(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6yAg":function(t,e,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var t={MAX_CODEPOINT:1114111,encodeUTF8:function(t,e){var n=null;for("number"==typeof t&&(n=t,t=function(){return null});null!==n||null!==(n=t());)n<128?e(127&n):n<2048?(e(n>>6&31|192),e(63&n|128)):n<65536?(e(n>>12&15|224),e(n>>6&63|128),e(63&n|128)):(e(n>>18&7|240),e(n>>12&63|128),e(n>>6&63|128),e(63&n|128)),n=null},decodeUTF8:function(t,e){for(var n,r,i,o,s=function(t){t=t.slice(0,t.indexOf(null));var e=Error(t.toString());throw e.name="TruncatedError",e.bytes=t,e};null!==(n=t());)if(0==(128&n))e(n);else if(192==(224&n))null===(r=t())&&s([n,r]),e((31&n)<<6|63&r);else if(224==(240&n))(null===(r=t())||null===(i=t()))&&s([n,r,i]),e((15&n)<<12|(63&r)<<6|63&i);else{if(240!=(248&n))throw RangeError("Illegal starting byte: "+n);(null===(r=t())||null===(i=t())||null===(o=t()))&&s([n,r,i,o]),e((7&n)<<18|(63&r)<<12|(63&i)<<6|63&o)}},UTF16toUTF8:function(t,e){for(var n,r=null;null!==(n=null!==r?r:t());)n>=55296&&n<=57343&&null!==(r=t())&&r>=56320&&r<=57343?(e(1024*(n-55296)+r-56320+65536),r=null):e(n);null!==r&&e(r)},UTF8toUTF16:function(t,e){var n=null;for("number"==typeof t&&(n=t,t=function(){return null});null!==n||null!==(n=t());)n<=65535?e(n):(e(55296+((n-=65536)>>10)),e(n%1024+56320)),n=null},encodeUTF16toUTF8:function(e,n){t.UTF16toUTF8(e,(function(e){t.encodeUTF8(e,n)}))},decodeUTF8toUTF16:function(e,n){t.decodeUTF8(e,(function(e){t.UTF8toUTF16(e,n)}))},calculateCodePoint:function(t){return t<128?1:t<2048?2:t<65536?3:4},calculateUTF8:function(t){for(var e,n=0;null!==(e=t());)n+=e<128?1:e<2048?2:e<65536?3:4;return n},calculateUTF16asUTF8:function(e){var n=0,r=0;return t.UTF16toUTF8(e,(function(t){++n,r+=t<128?1:t<2048?2:t<65536?3:4})),[n,r]}},e=String.fromCharCode;return t.arraySource=function(t){if(!Array.isArray(t))throw TypeError("Illegal argument: "+typeof t);var e=0;return function(){return e>=t.length?null:t[e++]}},t.arrayDestination=function(t){if(!Array.isArray(t))throw TypeError("Illegal argument: "+typeof t);return Array.prototype.push.bind(t)},t.stringSource=function(t){if("string"!=typeof t)throw TypeError("Illegal argument: "+typeof t);var e=0;return function(){return e>=t.length?null:t.charCodeAt(e++)}},t.stringDestination=function(){var t=[],n=[];return function(){if(0===arguments.length)return n.join("")+e.apply(String,t);t.length+arguments.length>1024&&(n.push(e.apply(String,t)),t.length=0),Array.prototype.push.apply(t,arguments)}},t.assertCharCode=function(t){if("number"!=typeof t||t!=t)throw TypeError("Illegal char code: "+typeof t);if(t<0||t>65535)throw RangeError("Illegal char code: "+t);return t},t.assertCodePoint=function(e){if("number"!=typeof e||e!=e)throw TypeError("Illegal code point: "+typeof e);if(e<0||e>t.MAX_CODEPOINT)throw RangeError("Illegal code point: "+e);return e},t.fromCodePoint=function(e){var n,r=0,i=arguments,o=i.length;return t.UTF8toUTF16((function(){return r<o?t.assertCodePoint(i[r++]):null}),n=t.stringDestination()),n()},t.codePointAt=function(e,n){if("string"!=typeof e&&!(e&&e instanceof String)||"number"!=typeof n)throw TypeError("Illegal arguments: "+typeof e+", "+typeof n);var r,i;if(!(n<0||n>=(r=e.length)))return t.UTF16toUTF8((function(){return void 0===i&&n<r?e.charCodeAt(n++):null}),(function(t){i=t})),i},t.polyfill=function(e){return String.fromCodePoint&&!e||(String.fromCodePoint=t.fromCodePoint),String.prototype.codePointAt&&!e||(String.prototype.codePointAt=function(e){return t.codePointAt(this,e)}),t},t})?r.call(e,n,e,t):r)||(t.exports=i)},LdAO:function(t){t.exports=JSON.parse('{"a":"10.14.1"}')},lh1e:function(t,e,n){t.exports=n("6yAg")},maj8:function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,a,c=s(t),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(c[l]=n[l]);if(r){a=r(n);for(var h=0;h<a.length;h++)o.call(n,a[h])&&(c[a[h]]=n[a[h]])}}return c}},r2q8:function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,o,s;if(u(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,console&&console.warn&&console.warn(a)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):m(i,i.length)}function g(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var u=c.length,l=m(c,u);for(n=0;n<u;++n)o(l[n],this,e)}return!0},a.prototype.on=a.prototype.addListener=function(t,e){return h(this,t,e,!1)},a.prototype.prependListener=function(t,e){return h(this,t,e,!0)},a.prototype.once=function(t,e){return u(e),this.on(t,d(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,d(this,t,e)),this},a.prototype.off=a.prototype.removeListener=function(t,e){var n,r,i,o,s;if(u(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return p(this,t,!0)},a.prototype.rawListeners=function(t){return p(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},c=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function u(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(s){e=s instanceof l?f(s.errors):[s]}if(c(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(u(n))try{n.unsubscribe()}catch(s){e=e||[],s instanceof l?e=e.concat(f(s.errors)):e.push(s)}}}if(e)throw new l(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const d=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[d](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}let v=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[d])return t[d]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=_(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=_(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function _(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const b=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class S extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class w extends p{constructor(t){super(t),this.destination=t}}let T=(()=>{class t extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new w(this)}lift(t){const e=new E(this,this);return e.operator=t,e}next(t){if(this.closed)throw new b;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new b;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new b;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new b;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new b;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new S(this,t))}asObservable(){const t=new v;return t.source=this,t}}return t.create=(t,e)=>new E(t,e),t})();class E extends T{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function k(t){return t&&"function"==typeof t.schedule}class C extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const A=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=I(),N=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function x(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const R=t=>{if(t&&"function"==typeof t[m])return r=t,t=>{const e=r[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(N(t))return A(t);if(x(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[O])return e=t,t=>{const n=e[O]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,r};function D(t,e,n,r,i=new C(t,n,r)){if(!i.closed)return e instanceof v?e.subscribe(i):R(e)(i)}class M extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function P(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new F(t,e))}}class F{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new L(t,this.project,this.thisArg))}}class L extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function j(t,e){return new v(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function H(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new v(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[m]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(x(t))return function(t,e){return new v(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(N(t))return j(t,e);if(function(t){return t&&"function"==typeof t[O]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new v(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[O](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function U(t,e){return e?H(t,e):t instanceof v?t:new v(R(t))}function K(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(K((n,r)=>U(t(n,r)).pipe(P((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new G(t,n)))}class G{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new V(t,this.project,this.concurrent))}}class V extends M{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new C(this,e,n),i=this.destination;i.add(r);const o=D(this,t,void 0,void 0,r);o!==r&&i.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function B(t=Number.POSITIVE_INFINITY){return K(y,t)}function z(t,e){return e?j(t,e):new v(A(t))}function W(){return function(t){return t.lift(new q(t))}}class q{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new $(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class $ extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class Y extends v{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Q(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return W()(this)}}const Z=(()=>{const t=Y.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Q extends w{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function J(){return new T}function X(t){return{toString:t}.toString()}const tt="__parameters__";function et(t,e,n){return X(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(tt)?t[tt]:Object.defineProperty(t,tt,{value:[]})[tt];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const nt=et("Inject",t=>({token:t})),rt=et("Optional"),it=et("Self"),ot=et("SkipSelf");var st=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function at(t){for(let e in t)if(t[e]===at)return e;throw Error("Could not find renamed property on target object.")}function ct(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ut(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function lt(t){return ht(t,t[dt])||ht(t,t[mt])}function ht(t,e){return e&&e.token===t?e:null}function ft(t){return t&&(t.hasOwnProperty(pt)||t.hasOwnProperty(yt))?t[pt]:null}const dt=at({"\u0275prov":at}),pt=at({"\u0275inj":at}),gt=at({"\u0275provFallback":at}),mt=at({ngInjectableDef:at}),yt=at({ngInjectorDef:at});function vt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function _t(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const bt=at({__forward_ref__:at});function St(t){return t.__forward_ref__=St,t.toString=function(){return vt(this())},t}function wt(t){return"function"==typeof(e=t)&&e.hasOwnProperty(bt)&&e.__forward_ref__===St?t():t;var e}const Tt="undefined"!=typeof globalThis&&globalThis,Et="undefined"!=typeof window&&window,kt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ct="undefined"!=typeof global&&global,At=Tt||Ct||Et||kt,It=at({"\u0275cmp":at}),Ot=at({"\u0275dir":at}),Nt=at({"\u0275pipe":at}),xt=at({"\u0275mod":at}),Rt=at({"\u0275loc":at}),Dt=at({"\u0275fac":at}),Mt=at({__NG_ELEMENT_ID__:at});class Pt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ct({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Ft=new Pt("INJECTOR",-1),Lt={},jt=/\n/gm,Ht="__source",Ut=at({provide:String,useValue:at});let Kt,Gt=void 0;function Vt(t){const e=Gt;return Gt=t,e}function Bt(t){const e=Kt;return Kt=t,e}function zt(t,e=st.Default){if(void 0===Gt)throw new Error("inject() must be called from an injection context");return null===Gt?qt(t,void 0,e):Gt.get(t,e&st.Optional?null:void 0,e)}function Wt(t,e=st.Default){return(Kt||zt)(wt(t),e)}function qt(t,e,n){const r=lt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&st.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${vt(t)}]`)}function $t(t){const e=[];for(let n=0;n<t.length;n++){const r=wt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=st.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof rt||"Optional"===i.ngMetadataName||i===rt?n|=st.Optional:i instanceof ot||"SkipSelf"===i.ngMetadataName||i===ot?n|=st.SkipSelf:i instanceof it||"Self"===i.ngMetadataName||i===it?n|=st.Self:t=i instanceof nt||i===nt?i.token:i}e.push(Wt(t,n))}else e.push(Wt(r))}return e}class Yt{get(t,e=Lt){if(e===Lt){const e=new Error(`NullInjectorError: No provider for ${vt(t)}!`);throw e.name="NullInjectorError",e}return e}}class Zt{}function Qt(t,e){t.forEach(t=>Array.isArray(t)?Qt(t,e):e(t))}var Jt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Xt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const te={},ee=[];let ne=0;function re(t){return ue(t)||function(t){return t[Ot]||null}(t)}function ie(t){return function(t){return t[Nt]||null}(t)}const oe={};function se(t){const e={type:t.type,bootstrap:t.bootstrap||ee,declarations:t.declarations||ee,imports:t.imports||ee,exports:t.exports||ee,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&X(()=>{oe[t.id]=t.type}),e}function ae(t,e){if(null==t)return te;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function ce(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ue(t){return t[It]||null}function le(t,e){return t.hasOwnProperty(Dt)?t[Dt]:null}function he(t,e){const n=t[xt]||null;if(!n&&!0===e)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return n}const fe=20,de=10;function pe(t){return Array.isArray(t)&&"object"==typeof t[1]}function ge(t){return Array.isArray(t)&&!0===t[1]}function me(t){return 0!=(8&t.flags)}function ye(t){return 2==(2&t.flags)}function ve(t){return null!==t.template}class _e{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function be(){const t=we(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===te)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Se(t,e,n,r){const i=we(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:te,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new _e(c&&c.currentValue,e,s===te),t[r]=e}function we(t){return t.__ngSimpleChanges__||null}const Te="http://www.w3.org/2000/svg";let Ee=void 0;function ke(t){return!!t.listen}const Ce={createRenderer:(t,e)=>void 0!==Ee?Ee:"undefined"!=typeof document?document:void 0};function Ae(t){for(;Array.isArray(t);)t=t[0];return t}function Ie(t,e){return Ae(e[t.index])}function Oe(t,e){const n=e[t];return pe(n)?n:n[0]}function Ne(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function xe(t){return 128==(128&t[2])}function Re(t,e){return null===t||null==e?null:t[e]}function De(t){t[18]=0}function Me(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Pe={lFrame:Ze(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Fe(){return Pe.bindingsEnabled}function Le(){return Pe.lFrame.lView}function je(){return Pe.lFrame.tView}function He(){return Pe.lFrame.previousOrParentTNode}function Ue(t,e){Pe.lFrame.previousOrParentTNode=t,Pe.lFrame.isParent=e}function Ke(){return Pe.lFrame.isParent}function Ge(){return Pe.checkNoChangesMode}function Ve(t){Pe.checkNoChangesMode=t}function Be(t,e){const n=Pe.lFrame;n.bindingIndex=n.bindingRootIndex=t,ze(e)}function ze(t){Pe.lFrame.currentDirectiveIndex=t}function We(t){Pe.lFrame.currentQueryIndex=t}function qe(t,e){const n=Ye();Pe.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function $e(t,e){const n=Ye(),r=t[1];Pe.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Ye(){const t=Pe.lFrame,e=null===t?null:t.child;return null===e?Ze(t):e}function Ze(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Qe(){const t=Pe.lFrame;return Pe.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const Je=Qe;function Xe(){const t=Qe();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function tn(){return Pe.lFrame.selectedIndex}function en(t){Pe.lFrame.selectedIndex=t}function nn(){Pe.lFrame.currentNamespace=Te}function rn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function on(t,e,n){cn(t,e,3,n)}function sn(t,e,n,r){(3&t[2])===n&&cn(t,e,n,r)}function an(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function cn(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(un(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function un(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class ln{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function hn(t,e,n){const r=ke(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];64===s.charCodeAt(0)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function fn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||dn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function dn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function pn(t){return 32767&t}function gn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}function mn(t){return"string"==typeof t?t:null==t?"":""+t}function yn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():mn(t)}const vn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function _n(t){return t instanceof Function?t():t}let bn=!0;function Sn(t){const e=bn;return bn=t,e}let wn=0;function Tn(t,e){const n=kn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,En(r.data,t),En(e,null),En(r.blueprint,null));const i=Cn(t,e),o=t.injectorIndex;if(-1!==i){const t=pn(i),n=gn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function En(t,e){t.push(0,0,0,0,0,0,0,0,e)}function kn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Cn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function An(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Mt)&&(r=n[Mt]),null==r&&(r=n[Mt]=wn++);const i=255&r,o=1<<i,s=64&i,a=32&i,c=e.data;128&i?s?a?c[t+7]|=o:c[t+6]|=o:a?c[t+5]|=o:c[t+4]|=o:s?a?c[t+3]|=o:c[t+2]|=o:a?c[t+1]|=o:c[t]|=o}(t,e,n)}function In(t,e,n,r=st.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Mt)?t[Mt]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){qe(e,t);try{const t=i();if(null!=t||r&st.Optional)return t;throw new Error(`No provider for ${yn(n)}!`)}finally{Je()}}else if("number"==typeof i){if(-1===i)return new Mn(t,e);let o=null,s=kn(t,e),a=-1,c=r&st.Host?e[16][6]:null;for((-1===s||r&st.SkipSelf)&&(a=-1===s?Cn(t,e):e[s+8],Dn(r,!1)?(o=e[1],s=pn(a),e=gn(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(Rn(i,s,t.data)){const t=Nn(s,e,n,o,r,c);if(t!==On)return t}Dn(r,e[1].data[s+8]===c)&&Rn(i,s,e)?(o=t,s=pn(a),e=gn(a,e)):s=-1}}}if(r&st.Optional&&void 0===i&&(i=null),0==(r&(st.Self|st.Host))){const t=e[9],o=Bt(void 0);try{return t?t.get(n,i,r&st.Optional):qt(n,i,r&st.Optional)}finally{Bt(o)}}if(r&st.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${yn(n)}]`)}const On={};function Nn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],c=function(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,u=o>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=s[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=s[c];if(t&&ve(t)&&t.type===n)return c}return null}(a,s,n,null==r?ye(a)&&bn:r!=s&&3===a.type,i&st.Host&&o===a);return null!==c?xn(e,s,c,a):On}function xn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof ln){const s=i;if(s.resolving)throw new Error("Circular dep for "+yn(o[n]));const a=Sn(s.canSeeViewProviders);let c;s.resolving=!0,s.injectImpl&&(c=Bt(s.injectImpl)),qe(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=((s=e).type.prototype.ngOnChanges&&(s.setInput=Se),be);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}var s;i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&Bt(c),Sn(a),s.resolving=!1,Je()}}return i}function Rn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Dn(t,e){return!(t&st.Self||t&st.Host&&e)}class Mn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return In(this._tNode,this._lView,t,void 0,e)}}function Pn(t){return t.ngDebugContext}function Fn(t){return t.ngOriginalError}function Ln(t,...e){t.error(...e)}class jn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Ln}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Pn(t)?Pn(t):this._findContext(Fn(t)):null}_findOriginalError(t){let e=Fn(t);for(;e&&Fn(e);)e=Fn(e);return e}}let Hn=!0,Un=!1;function Kn(){return Un=!0,Hn}function Gn(t,e){t.__ngContext__=e}function Vn(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Bn="ng-template";function zn(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Vn(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Wn(t){return 0===t.type&&t.tagName!==Bn}function qn(t,e,n){return e===(0!==t.type||n?t.tagName:Bn)}function $n(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let n=0;n<t.length;n++)if(3===(e=t[n])||4===e||6===e)return n;var e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!qn(t,c,n)||""===c&&1===e.length){if(Yn(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!zn(t.attrs,u,n)){if(Yn(r))return!1;s=!0}continue}const l=Zn(8&r?"class":c,i,Wn(t),n);if(-1===l){if(Yn(r))return!1;s=!0;continue}if(""!==u){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Vn(e,u,0)||2&r&&u!==t){if(Yn(r))return!1;s=!0}}}}else{if(!s&&!Yn(r)&&!Yn(c))return!1;if(s&&Yn(c))continue;s=!1,r=c|1&r}}return Yn(r)||s}function Yn(t){return 0==(1&t)}function Zn(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Qn(t,e,n=!1){for(let r=0;r<e.length;r++)if($n(t,e[r],n))return!0;return!1}function Jn(t,e){return t?":not("+e.trim()+")":e}function Xn(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Yn(s)||(e+=Jn(o,i),i=""),r=s,o=o||!Yn(r);n++}return""!==i&&(e+=Jn(o,i)),e}const tr={};function er(t){const e=t[3];return ge(e)?e[3]:e}function nr(t){return ir(t[13])}function rr(t){return ir(t[4])}function ir(t){for(;null!==t&&!ge(t);)t=t[4];return t}function or(t){sr(je(),Le(),tn()+t,Ge())}function sr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&on(e,r,n)}else{const r=t.preOrderHooks;null!==r&&sn(e,r,0,n)}en(n)}function ar(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];We(i),n.contentQueries(2,e[o],o)}}}function cr(t,e,n){return ke(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ur(t,e,n,r,i,o,s,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,De(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function lr(t,e,n,r,i,o){const s=n+fe,a=t.data[s]||function(t,e,n,r,i,o){const s=He(),a=Ke(),c=a?s:s&&s.parent,u=t.data[n]=yr(0,c&&c!==e?c:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=u),s&&(!a||null!=s.child||null===u.parent&&2!==s.type?a||(s.next=u):s.child=u),u}(t,e,s,r,i,o);return Ue(a,!0),a}function hr(t,e,n){$e(e,e[6]);try{const r=t.viewQuery;null!==r&&Fr(1,r,n);const i=t.template;null!==i&&pr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ar(t,e),t.staticViewQueries&&Fr(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Rr(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Xe()}}function fr(t,e,n,r){const i=e[2];if(256==(256&i))return;$e(e,e[6]);const o=Ge();try{De(e),Pe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&pr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&on(e,n,null)}else{const n=t.preOrderHooks;null!==n&&sn(e,n,0,null),an(e,0)}if(function(t){for(let e=nr(t);null!==e;e=rr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Me(r,1),n[2]|=1024}}}(e),function(t){for(let e=nr(t);null!==e;e=rr(e))for(let t=de;t<e.length;t++){const n=e[t],r=n[1];xe(n)&&fr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ar(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&on(e,n)}else{const n=t.contentHooks;null!==n&&sn(e,n,1),an(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,en(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(Be(r,i),s(2,e[i])),i++)}}}finally{en(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Nr(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Fr(2,c,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&on(e,n)}else{const n=t.viewHooks;null!==n&&sn(e,n,2),an(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Me(e[3],-1))}finally{Xe()}}function dr(t,e,n,r){const i=e[10],o=!Ge(),s=4==(4&e[2]);try{o&&!s&&i.begin&&i.begin(),s&&hr(t,e,r),fr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function pr(t,e,n,r,i){const o=tn();try{en(-1),2&r&&e.length>fe&&sr(t,e,0,Ge()),n(r,i)}finally{en(o)}}function gr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=mr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function mr(t,e,n,r,i,o,s,a,c,u){const l=fe+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:tr);return n}(l,h),d="function"==typeof u?u():u;return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:d,incompleteFirstPass:!1}}function yr(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function vr(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function _r(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function br(t,e,n){for(let r=0;r<n;r++)e.push(tr),t.blueprint.push(tr),t.data.push(null)}function Sr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function wr(t,e,n){const r=fe-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Tr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Er(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ve(e)&&(n[""]=t)}}function kr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Cr(t,e,n){t.data.push(n);const r=n.factory||(n.factory=le(n.type)),i=new ln(r,ve(n),null);t.blueprint.push(i),e.push(i)}function Ar(t,e,n){const r=Ie(e,t),i=gr(n),o=t[10],s=Dr(t,ur(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function Ir(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Or(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Nr(t,e){const n=Oe(e,t);if(xe(n)){const t=n[1];80&n[2]?fr(t,n,t.template,n[8]):n[5]>0&&xr(n)}}function xr(t){for(let n=nr(t);null!==n;n=rr(n))for(let t=de;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];fr(t,e,t.template,e[8])}else e[5]>0&&xr(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Oe(e[n],t);xe(r)&&r[5]>0&&xr(r)}}function Rr(t,e){const n=Oe(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),hr(r,n,n[8])}function Dr(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Mr(t,e,n){const r=e[10];r.begin&&r.begin();try{fr(t,e,t.template,n)}catch(i){throw function(t,e){const n=t[9],r=n?n.get(jn,null):null;r&&r.handleError(e)}(e,i),i}finally{r.end&&r.end()}}function Pr(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ne(n),i=r[1];dr(i,r,i.template,n)}}(t[8])}function Fr(t,e,n){We(0),e(t,n)}const Lr=(()=>Promise.resolve(null))();function jr(t,e){const n=e[3];return-1===t.index?ge(n)?n:null:n}function Hr(t,e,n,r,i){if(null!=r){let o,s=!1;ge(r)?o=r:pe(r)&&(s=!0,r=r[0]);const a=Ae(r);0===t&&null!==n?null==i?Vr(e,n,a):Gr(e,n,a,i||null):1===t&&null!==n?Gr(e,n,a,i||null):2===t?function(t,e,n){const r=zr(t,e);r&&function(t,e,n,r){ke(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Ae(n)&&Hr(e,t,r,o,i);for(let s=de;s<n.length;s++){const i=n[s];Zr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ur(t,e){let n;return pe(t)&&(n=t[6])&&2===n.type?jr(n,t):t[3]===e?null:t[3]}function Kr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof ln)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Ae(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&ke(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&ge(e[3])){r!==e[3]&&function(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Me(i,-1)),n.splice(r,1)}(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Gr(t,e,n,r){ke(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Vr(t,e,n){ke(t)?t.appendChild(e,n):e.appendChild(n)}function Br(t,e,n,r){null!==r?Gr(t,e,n,r):Vr(t,e,n)}function zr(t,e){return ke(t)?t.parentNode(e):e.parentNode}function Wr(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?function(t,e){const n=jr(t,e);return n?zr(e[11],n[7]):null}(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Ie(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==Xt.ShadowDom&&n!==Xt.Native)return null}return Ie(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){if(2===t.type){const n=jr(t,e);return null===n?null:$r(n.indexOf(e,de)-de,n)}return 4===t.type||5===t.type?Ie(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Br(t,i,n[e],o);else Br(t,i,n,o)}}function qr(t,e){if(null!==e){const n=e.type;if(3===n)return Ie(e,t);if(0===n)return $r(-1,t[e.index]);if(4===n||5===n){const n=e.child;if(null!==n)return qr(t,n);{const n=t[e.index];return ge(n)?$r(-1,n):Ae(n)}}{const n=t[16],r=n[6],i=er(n),o=r.projection[e.projection];return null!=o?qr(i,o):qr(t,e.next)}}return null}function $r(t,e){const n=de+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return qr(t,r)}return e[7]}function Yr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;s&&0===e&&(a&&Gn(Ae(a),r),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(Yr(t,e,n.child,r,i,o,!1),Hr(e,t,i,a,o)):1===c?Qr(t,e,r,n,i,o):Hr(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Zr(t,e,n,r,i,o){Yr(n,r,t.node.child,e,i,o,!1)}function Qr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Hr(e,t,i,a[c],o);else Yr(t,e,a,s[3],i,o,!0)}function Jr(t,e,n){ke(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Xr(t,e,n){ke(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class ti{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?ni(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}!function(t,e){if(!(256&e[2])){const n=e[11];ke(n)&&n.destroyNode&&Zr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Kr(t[1],t);for(;e;){let n=null;if(pe(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)pe(e)&&Kr(e[1],e),e=Ur(e,t);null===e&&(e=t),pe(e)&&Kr(e[1],e),n=e&&e[4]}e=n}}(e)}}(this._lView[1],this._lView)}onDestroy(t){!function(t,e,n,r){const i=(o=e)[7]||(o[7]=[]);var o;i.push(null),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}(this._lView[1],this._lView,0,t)}markForCheck(){!function(t){for(;t;){t[2]|=64;const e=er(t);if(0!=(512&t[2])&&!e)return t;t=e}}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Mr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ve(!0);try{Mr(t,e,n)}finally{Ve(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Zr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ei extends ti{constructor(t){super(t),this._view=t}detectChanges(){Pr(this._view)}checkNoChanges(){!function(t){Ve(!0);try{Pr(t)}finally{Ve(!1)}}(this._view)}get context(){return null}}function ni(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Ae(o)),ge(o))for(let t=de;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ni(e[1],e,n,r)}const s=n.type;if(4===s||5===s)ni(t,e,n.child,r);else if(1===s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=er(t);ni(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}let ri;function ii(t,e,n){return ri||(ri=class extends t{}),new ri(Ie(e,n))}const oi=new Pt("Set Injector scope."),si={},ai={},ci=[];let ui=void 0;function li(){return void 0===ui&&(ui=new Yt),ui}function hi(t,e=null,n=null,r){return new fi(t,n,e||li(),r)}class fi{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Qt(e,n=>this.processProvider(n,t,e)),Qt([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ft,pi(void 0,this));const o=this.records.get(oi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:vt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Lt,n=st.Default){this.assertNotDestroyed();const r=Vt(this);try{if(!(n&st.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Pt)&&lt(t);e=n&&this.injectableDefInScope(n)?pi(di(t),si):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&st.Self?li():this.parent).get(t,e=n&st.Optional&&e===Lt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(vt(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Ht]&&i.unshift(e[Ht]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):vt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Vt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(vt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=wt(t)))return!1;let r=ft(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=ft(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Qt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Qt(r,t=>this.processProvider(t,n,r||ci))}}this.injectorDefTypes.add(o),this.records.set(o,pi(r.factory,si));const a=r.providers;if(null!=a&&!s){const e=t;Qt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=mi(t=wt(t))?t:wt(t&&t.provide);const i=function(t,e,n){return gi(t)?pi(void 0,t.useValue):pi(function(t,e,n){let r=void 0;if(mi(t)){const e=wt(t);return le(e)||di(e)}if(gi(t))r=()=>wt(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...$t(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Wt(wt(t.useExisting));else{const e=wt(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return le(e)||di(e);r=()=>new e(...$t(t.deps))}var i;return r}(t),si)}(t);if(mi(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=pi(void 0,si,!0),e.factory=()=>$t(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===si&&(e.value=ai,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function di(t){const e=lt(t),n=null!==e?e.factory:le(t);if(null!==n)return n;const r=ft(t);if(null!==r)return r.factory;if(t instanceof Pt)throw new Error(`Token ${vt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${vt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[dt]||t[mt]||t[gt]&&t[gt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function pi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function gi(t){return null!==t&&"object"==typeof t&&Ut in t}function mi(t){return"function"==typeof t}const yi=function(t,e,n){return function(t,e=null,n=null,r){const i=hi(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let vi=(()=>{class t{static create(t,e){return Array.isArray(t)?yi(t,e,""):yi(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Lt,t.NULL=new Yt,t.\u0275prov=ct({token:t,providedIn:"any",factory:()=>Wt(Ft)}),t.__NG_ELEMENT_ID__=-1,t})();function _i(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=_t(i,t):2==o&&(r=_t(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function bi(t,e){const n=Ne(t)[1],r=n.data.length-1;rn(n,{directiveStart:r,directiveEnd:r+1})}let Si=null;function wi(){if(!Si){const t=At.Symbol;if(t&&t.iterator)Si=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Si=n)}}}return Si}class Ti{constructor(t){this.wrapped=t}static wrap(t){return new Ti(t)}static unwrap(t){return Ti.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ti}}function Ei(t){return!!ki(t)&&(Array.isArray(t)||!(t instanceof Map)&&wi()in t)}function ki(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ci(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ai(t,e=st.Default){const n=Le();return null==n?Wt(t,e):In(He(),n,wt(t),e)}function Ii(t,e,n,r,i){const o=i?"class":"style";!function(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],u=t.data[s];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}(t,n,e.inputs[o],o,r)}function Oi(t,e,n,r){const i=Le(),o=je(),s=fe+t,a=i[11],c=i[s]=cr(e,a,Pe.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,c=Re(a,o),u=lr(e,n[6],t,3,i,c);return function(t,e,n,r){let i=!1;if(Fe()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Qn(n,s.selectors,!1)&&(i||(i=[]),An(Tn(n,e),t,s.type),ve(s)?(Tr(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,kr(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}wr(t,n,o.length);let a=!1,c=!1;for(let i=0;i<o.length;i++){const u=o[i];n.mergedAttrs=fn(n.mergedAttrs,u.hostAttrs),Cr(t,e,u),Er(t.data.length-1,u,s),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-fe),a=!0),c||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-fe),c=!0),_r(t,u),r+=u.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||Wn(e)?null:Or(n,i);o.push(u),s=vr(n,c,s),a=vr(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),br(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}n.mergedAttrs=fn(n.mergedAttrs,n.attrs)}(e,n,u,Re(a,s)),null!==u.attrs&&_i(u,u.attrs,!1),null!==u.mergedAttrs&&_i(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[s];Ue(u,!0);const l=u.mergedAttrs;null!==l&&hn(a,c,l);const h=u.classes;null!==h&&Xr(a,c,h);const f=u.styles;null!==f&&Jr(a,c,f),Wr(o,i,c,u),0===Pe.lFrame.elementDepthCount&&Gn(c,i),Pe.lFrame.elementDepthCount++,function(t){return 1==(1&t.flags)}(u)&&(function(t,e,n){Fe()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Tn(n,e),Gn(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=ve(r);o&&Ar(e,n,r);const c=xn(e,t,a,n);Gn(c,e),null!==s&&Ir(0,a-i,c,r,0,s),o&&(Oe(n.index,e)[8]=c)}}(t,e,n,Ie(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-fe,c=Pe.lFrame.currentDirectiveIndex;try{en(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ze(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?Sr(r,i):s&&o.push(null)}}finally{en(-1),ze(c)}}(t,e,n))}(o,i,u),function(t,e,n){if(me(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,u,i)),null!==r&&function(t,e,n=Ie){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}(i,u)}function Ni(){let t=He();Ke()?Pe.lFrame.isParent=!1:(t=t.parent,Ue(t,!1));const e=t;Pe.lFrame.elementDepthCount--;const n=je();n.firstCreatePass&&(rn(n,t),me(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ii(n,e,Le(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ii(n,e,Le(),e.stylesWithoutHost,!1)}function xi(t,e,n,r){Oi(t,e,n,r),Ni()}function Ri(t){return!!t&&"function"==typeof t.then}function Di(t,e=""){const n=Le(),r=je(),i=t+fe,o=r.firstCreatePass?lr(r,n[6],t,3,null,null):r.data[i],s=n[i]=function(t,e){return ke(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Wr(r,n,s,o),Ue(o,!1)}function Mi(t){return Pi("",t,""),Mi}function Pi(t,e,n){const r=Le(),i=function(t,e,n,r){return Ci(t,Pe.lFrame.bindingIndex++,n)?e+mn(n)+r:tr}(r,t,e,n);return i!==tr&&function(t,e,n){const r=function(t,e){return Ae(e[t+fe])}(e,t),i=t[11];ke(i)?i.setValue(r,n):r.textContent=n}(r,tn(),i),Pi}class Fi{}class Li{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${vt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ji=(()=>{class t{}return t.NULL=new Li,t})(),Hi=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Ui(t),t})();const Ui=function(t){return ii(t,He(),Le())};class Ki{}var Gi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Vi=(()=>{class t{}return t.\u0275prov=ct({token:t,providedIn:"root",factory:()=>null}),t})();class Bi{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const zi=new Bi("10.1.3");class Wi{constructor(){}supports(t){return Ei(t)}create(t){return new $i(t)}}const qi=(t,e)=>e;class $i{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||qi}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ji(n,r,i)?e:n,s=Ji(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ei(t))throw new Error(`Error trying to diff '${vt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[wi()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Yi(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Qi),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qi),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Yi{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zi{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Qi{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Zi,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ji(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Xi{constructor(){}supports(t){return t instanceof Map||ki(t)}create(){return new to}}class to{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ki(t)))throw new Error(`Error trying to diff '${vt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new eo(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class eo{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let no=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ot,new rt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ct({token:t,providedIn:"root",factory:()=>new t([new Wi])}),t})(),ro=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ot,new rt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ct({token:t,providedIn:"root",factory:()=>new t([new Xi])}),t})();const io=[new Xi],oo=new no([new Wi]),so=new ro(io),ao={};class co extends ji{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ue(t);return new ho(e,this.ngModule)}}function uo(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const lo=new Pt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>vn});class ho extends Fi{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Xn).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return uo(this.componentDef.inputs)}get outputs(){return uo(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ao,i);return o!==ao||r===ao?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ki,Ce),s=i.get(Vi,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(ke(t))return t.selectRootElement(e,n===Xt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):cr(c,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?Te:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:vn,clean:Lr,playerHandler:null,flags:0},f=mr(0,-1,null,1,0,null,null,null,null,null),d=ur(null,f,h,l,null,null,o,a,s,i);let p,g;$e(d,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=lr(s,null,0,3,null,null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(_i(a,c,!0),null!==t&&(hn(i,t,c),null!==a.classes&&Xr(i,t,a.classes),null!==a.styles&&Jr(i,t,a.styles)));const u=r.createRenderer(t,e),l=ur(n,gr(e),null,e.onPush?64:16,n[20],a,r,u,void 0);return s.firstCreatePass&&(An(Tn(a,n),s,e.type),Tr(s,a),kr(a,n.length,1)),Dr(n,l),n[20]=l}(u,this.componentDef,d,o,a);if(u)if(n)hn(a,u,["ng-version",zi.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Yn(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&hn(a,u,t),e&&e.length>0&&Xr(a,u,e.join(" "))}if(g=f.data[20],void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=He();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),wr(t,r,1),Cr(t,e,n));const i=xn(e,t,e.length-1,r);Gn(i,e);const o=Ie(r,e);return o&&Gn(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=He();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){en(a.index-fe);const t=n[1];_r(t,e),br(t,n,e.hostVars),Sr(e,s)}return s}(t,this.componentDef,d,h,[bi]),hr(f,d,null)}finally{Xe()}const m=new fo(this.componentType,p,ii(Hi,g,d),d,g);return f.node.child=g,m}}class fo extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new ei(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=yr(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new Mn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const po=void 0;var go=["en",[["a","p"],["AM","PM"],po],[["AM","PM"],po,po],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],po,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],po,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",po,"{1} 'at' {0}",po],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let mo={};function yo(t){return t in mo||(mo[t]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[t]),mo[t]}var vo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const _o="en-US";let bo=_o;function So(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(bo=t.toLowerCase().replace(/_/g,"-"))}const wo=new Map;function To(t){if(null!==t.\u0275mod.id){const e=t.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${vt(e)} vs ${vt(e.name)}`)})(e,wo.get(e),t),wo.set(e,t)}let e=t.\u0275mod.imports;e instanceof Function&&(e=e()),e&&e.forEach(t=>To(t))}class Eo extends Zt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new co(this);const n=he(t),r=t[Rt]||null;r&&So(r),this._bootstrapComponents=_n(n.bootstrap),this._r3Injector=hi(t,e,[{provide:Zt,useValue:this},{provide:ji,useValue:this.componentFactoryResolver}],vt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=vi.THROW_IF_NOT_FOUND,n=st.Default){return t===vi||t===Zt||t===Ft?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ko extends class{}{constructor(t){super(),this.moduleType=t,null!==he(t)&&To(t)}create(t){return new Eo(this.moduleType,t)}}function Co(t,e){const n=je();let r;const i=t+fe;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=le(r.type)),s=Bt(Ai),a=Sn(!1),c=o();return Sn(a),Bt(s),function(t,e,n,r){const i=n+fe;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,Le(),t,c),c}function Ao(t,e,n){const r=Le(),i=function(t,e){return t[e+fe]}(r,t);return function(t,e){return Ti.isWrapped(e)&&(e=Ti.unwrap(e),t[Pe.lFrame.bindingIndex]=tr),e}(r,function(t,e){return t[1].data[e+fe].pure}(r,t)?function(t,e,n,r,i,o){const s=e+n;return Ci(t,s,i)?function(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===tr?void 0:n}(t,s+1)}(r,function(){const t=Pe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,i.transform,n,i):i.transform(n))}const Io=class extends T{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof h&&t.add(s),s}};const Oo=new Pt("Application Initializer");let No=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ri(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Wt(Oo,8))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const xo=new Pt("AppId"),Ro={provide:xo,useFactory:function(){return`${Do()}${Do()}${Do()}`},deps:[]};function Do(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Mo=new Pt("Platform Initializer"),Po=new Pt("Platform ID"),Fo=new Pt("appBootstrapListener");let Lo=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const jo=new Pt("LocaleId"),Ho=new Pt("DefaultCurrencyCode");class Uo{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Ko=function(t){return new ko(t)},Go=Ko,Vo=function(t){return Promise.resolve(Ko(t))},Bo=function(t){const e=Ko(t),n=_n(he(t).declarations).reduce((t,e)=>{const n=ue(e);return n&&t.push(new ho(n)),t},[]);return new Uo(e,n)},zo=Bo,Wo=function(t){return Promise.resolve(Bo(t))};let qo=(()=>{class t{constructor(){this.compileModuleSync=Go,this.compileModuleAsync=Vo,this.compileModuleAndAllComponentsSync=zo,this.compileModuleAndAllComponentsAsync=Wo}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const $o=(()=>Promise.resolve(0))();function Yo(t){"undefined"==typeof Zone?$o.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Zo{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Io(!1),this.onMicrotaskEmpty=new Io(!1),this.onStable=new Io(!1),this.onError=new Io(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=At.requestAnimationFrame,e=At.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(At,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ts(t),Xo(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ts(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return es(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),ns(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return es(t),e.invoke(r,i,o,s,a)}finally{ns(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,ts(t),Xo(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Jo,Qo,Qo);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Qo(){}const Jo={};function Xo(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ts(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function es(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ns(t){t._nesting--,Xo(t)}class rs{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Io,this.onMicrotaskEmpty=new Io,this.onStable=new Io,this.onError=new Io}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let is=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zo.assertNotInAngularZone(),Yo(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yo(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Wt(Zo))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),os=(()=>{class t{constructor(){this._applications=new Map,cs.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return cs.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class ss{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let as,cs=new ss;const us=new Pt("AllowMultipleToken");function ls(t,e,n=[]){const r="Platform: "+e,i=new Pt(r);return(e=[])=>{let o=hs();if(!o||o.injector.get(us,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:oi,useValue:"platform"});!function(t){if(as&&!as.destroyed&&!as.injector.get(us,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");as=t.get(fs);const e=t.get(Mo,null);e&&e.forEach(t=>t())}(vi.create({providers:t,name:r}))}return function(t){const e=hs();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function hs(){return as&&!as.destroyed?as:null}let fs=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new rs:("zone.js"===t?void 0:t)||new Zo({enableLongStackTrace:Kn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Zo,useValue:n}];return n.run(()=>{const e=vi.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(jn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>gs(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Ri(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(No);return t.runInitializers(),t.donePromise.then(()=>(So(i.injector.get(jo,_o)||_o),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ds({},e);return function(t,e,n){const r=new ko(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ps);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${vt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Wt(vi))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function ds(t,e){return Array.isArray(e)?e.reduce(ds,t):Object.assign(Object.assign({},t),e)}let ps=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Kn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new v(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new v(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Zo.assertNotInAngularZone(),Yo(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Zo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return k(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof v?t[0]:B(e)(z(t,n))}(s,a.pipe(t=>{return W()((e=J,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,Z);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Fi?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Zt),i=n.create(vi.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(is,null);return o&&i.injector.get(os).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Kn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;gs(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Fo,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),gs(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Wt(Zo),Wt(Lo),Wt(vi),Wt(jn),Wt(ji),Wt(No))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function gs(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ms=ls(null,"core",[{provide:Po,useValue:"unknown"},{provide:fs,deps:[vi]},{provide:os,deps:[]},{provide:Lo,deps:[]}]),ys=[{provide:ps,useClass:ps,deps:[Zo,Lo,vi,jn,ji,No]},{provide:lo,deps:[Zo],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:No,useClass:No,deps:[[new rt,Oo]]},{provide:qo,useClass:qo,deps:[]},Ro,{provide:no,useFactory:function(){return oo},deps:[]},{provide:ro,useFactory:function(){return so},deps:[]},{provide:jo,useFactory:function(t){return So(t=t||"undefined"!=typeof $localize&&$localize.locale||_o),t},deps:[[new nt(jo),new rt,new ot]]},{provide:Ho,useValue:"USD"}];let vs=(()=>{class t{constructor(t){}}return t.\u0275mod=se({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(Wt(ps))},providers:ys}),t})(),_s=null;function bs(){return _s}const Ss=new Pt("DocumentToken");var ws=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class Ts{}let Es=(()=>{class t extends Ts{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=yo(e);if(n)return n;const r=e.split("-")[0];if(n=yo(r),n)return n;if("en"===r)return go;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[vo.PluralCase]}(e||this.locale)(t)){case ws.Zero:return"zero";case ws.One:return"one";case ws.Two:return"two";case ws.Few:return"few";case ws.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Wt(jo))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class ks{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Cs{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const As=new Cs,Is=new ks;let Os=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Ri(e))return As;if(function(t){return!!t&&"function"==typeof t.subscribe}(e))return Is;throw Error(`InvalidPipeArgument: '${e}' for pipe '${vt(t)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(function(t=st.Default){const e=function(t=!1){return function(t,e,n){if(!n&&ye(t)){const n=Oe(t.index,e);return new ti(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new ti(e[16],e):null}(He(),Le(),t)}(!0);if(null!=e||t&st.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}())},t.\u0275pipe=ce({name:"async",type:t,pure:!1}),t})(),Ns=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ce({name:"json",type:t,pure:!1}),t})(),xs=(()=>{class t{}return t.\u0275mod=se({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[{provide:Ts,useClass:Es}]}),t})();class Rs extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Rs,_s||(_s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Ms||(Ms=document.querySelector("base"),Ms)?Ms.getAttribute("href"):null;return null==e?null:(n=e,Ds||(Ds=document.createElement("a")),Ds.setAttribute("href",n),"/"===Ds.pathname.charAt(0)?Ds.pathname:"/"+Ds.pathname);var n}resetBaseElement(){Ms=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Ds,Ms=null;const Ps=new Pt("TRANSITION_ID"),Fs=[{provide:Oo,useFactory:function(t,e,n){return()=>{n.get(No).donePromise.then(()=>{const n=bs();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Ps,Ss,vi],multi:!0}];class Ls{static init(){var t;t=new Ls,cs=t}addToWindow(t){At.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},At.getAllAngularTestabilities=()=>t.getAllTestabilities(),At.getAllAngularRootElements=()=>t.getAllRootElements(),At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push(t=>{const e=At.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?bs().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const js=new Pt("EventManagerPlugins");let Hs=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(Wt(js),Wt(Zo))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class Us{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=bs().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Ks=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Gs=(()=>{class t extends Ks{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>bs().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Wt(Ss))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Vs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Bs=/%COMP%/g;function zs(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?zs(t,i,n):(i=i.replace(Bs,t),n.push(i))}return n}function Ws(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let qs=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new $s(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Xt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Ys(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case Xt.Native:case Xt.ShadowDom:return new Zs(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=zs(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Wt(Hs),Wt(Gs),Wt(xo))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class $s{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Vs[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Vs[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Vs[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&Gi.DashCase?t.style.setProperty(e,n,r&Gi.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Gi.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ws(n)):this.eventManager.addEventListener(t,e,Ws(n))}}class Ys extends $s{constructor(t,e,n,r){super(t),this.component=n;const i=zs(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Bs,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Bs,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Zs extends $s{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===Xt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=zs(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Qs=(()=>{class t extends Us{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Wt(Ss))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Js=["alt","control","meta","shift"],Xs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ta={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ea={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let na=(()=>{class t extends Us{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bs().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Js.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ta.hasOwnProperty(e)&&(e=ta[e]))}return Xs[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Js.forEach(r=>{r!=n&&(0,ea[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Wt(Ss))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const ra=ls(ms,"browser",[{provide:Po,useValue:"browser"},{provide:Mo,useValue:function(){Rs.makeCurrent(),Ls.init()},multi:!0},{provide:Ss,useFactory:function(){return function(t){Ee=t}(document),document},deps:[]}]),ia=[[],{provide:oi,useValue:"root"},{provide:jn,useFactory:function(){return new jn},deps:[]},{provide:js,useClass:Qs,multi:!0,deps:[Ss,Zo,Po]},{provide:js,useClass:na,multi:!0,deps:[Ss]},[],{provide:qs,useClass:qs,deps:[Hs,Gs,xo]},{provide:Ki,useExisting:qs},{provide:Ks,useExisting:Gs},{provide:Gs,useClass:Gs,deps:[Ss]},{provide:is,useClass:is,deps:[Zo]},{provide:Hs,useClass:Hs,deps:[js,Zo]},[]];let oa=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:xo,useValue:e.appId},{provide:Ps,useExisting:xo},Fs]}}}return t.\u0275mod=se({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(Wt(t,12))},providers:ia,imports:[xs,vs]}),t})();"undefined"!=typeof window&&window;let sa=1;const aa=(()=>Promise.resolve())(),ca={};function ua(t){return t in ca&&(delete ca[t],!0)}const la={setImmediate(t){const e=sa++;return ca[e]=!0,aa.then(()=>ua(e)&&t()),e},clearImmediate(t){ua(t)}};class ha extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class fa extends ha{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class da extends fa{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=la.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(la.clearImmediate(e),t.scheduled=void 0)}}let pa=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class ga extends pa{constructor(t,e=pa.now){super(t,()=>ga.delegate&&ga.delegate!==this?ga.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return ga.delegate&&ga.delegate!==this?ga.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class ma extends ga{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const ya=new ma(da);class va{constructor(t){this.selector=t}call(t,e){return e.subscribe(new _a(t,this.selector,this.caught))}}class _a extends M{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new C(this,void 0,void 0);this.add(r);const i=D(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}var ba=n("maj8"),Sa=n.n(ba),wa=function(t){return null!=t&&"function"==typeof t.then};function Ta(t){return(Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ea(t,e){return!(!Ia(t)||!Ia(e))&&t.slice(0,e.length)===e}function ka(t,e,n){var r=n;try{var i=e.split("."),o=t;i.forEach((function(t){return o=o[t]})),void 0!==o&&(r=o)}catch(s){}return r}function Ca(t,e){if(Array.isArray(t)&&"function"==typeof e)for(var n=0;n<t.length;n++)if(!0===e(t[n],n,t))return n;return-1}function Aa(t,e){var n;if(Ra(t))for(var r=Object.keys(t),i=0;i<r.length&&!n;i++){var o=r[i];e(t[o],o,t)&&(n=t[o])}else if(Array.isArray(t))for(var s=0;s<t.length&&!n;s++)e(t[s],s,t)&&(n=t[s]);return n}function Ia(t){return"string"==typeof t||t instanceof String}function Oa(t){return t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&(Number.isFinite?Number.isFinite(t):isFinite(t))}function Na(t){return t instanceof Number&&(t=t.valueOf()),t!=t}var xa=-1;function Ra(t){return t&&"object"===Ta(t)&&t.constructor===Object}function Da(t,e){var n=t;Ra(e)&&Object.keys(e).forEach((function(t){var r=e[t];Ra(r)&&(r=n[t]&&Ra(n[t])?Da({},n[t],r):Da({},r)),void 0!==r&&(n[t]=r)}));for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(i&&i.length){var s=i.splice(0,1)[0];n=Da.apply(void 0,[n,s].concat(i))}return n}function Ma(t){var e={};return t.filter((function(t){return!Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=!0)}))}function Pa(t){if(null==t)return"";if("string"==typeof t)return t;if(Array.isArray(t))return t.map((function(t){return Ia(t)?t:""}))+"";var e=t+"";return"0"===e&&1/t===Number.NEGATIVE_INFINITY?"-0":e}function Fa(t){if("number"==typeof t)return t;if(Ra(t)&&"function"==typeof t.valueOf){var e=t.valueOf();t=Ra(e)?e+"":e}return"string"!=typeof t?0===t?t:+t:+(t=t.replace(/^\s+|\s+$/g,""))}function La(t,e){return Object.keys(t).forEach((function(n){return e(t[n],n,t)})),t}function ja(t){return!0===t||!1===t}function Ha(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ua(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ka(t,e,n){return e&&Ua(t.prototype,e),n&&Ua(t,n),t}var Ga={DEBUG:"DEBUG",INFO:"INFO",WARN:"WARN",ERROR:"ERROR",NONE:"NONE"},Va=Ga.DEBUG,Ba=function(t){Va=t},za={showLevel:!0,displayAllErrors:!1},Wa=function(){function t(e,n){Ha(this,t),this.category=e,this.options=Sa()({},za,n)}return Ka(t,[{key:"debug",value:function(t){this._shouldLog(Ga.DEBUG)&&this._log(Ga.DEBUG,t)}},{key:"info",value:function(t){this._shouldLog(Ga.INFO)&&this._log(Ga.INFO,t)}},{key:"warn",value:function(t){this._shouldLog(Ga.WARN)&&this._log(Ga.WARN,t)}},{key:"error",value:function(t){(this.options.displayAllErrors||this._shouldLog(Ga.ERROR))&&this._log(Ga.ERROR,t)}},{key:"_log",value:function(t,e){var n=this._generateLogMessage(t,e);console.log(n)}},{key:"_generateLogMessage",value:function(t,e){var n="";return this.options.showLevel&&(n+="["+t+"]"+(t===Ga.INFO||t===Ga.WARN?" ":"")+" "),this.category&&(n+=this.category+" => "),n+e}},{key:"_shouldLog",value:function(t){var e=Va,n=Object.keys(Ga).map((function(t){return Ga[t]}));return n.indexOf(t)>=n.indexOf(e)}}]),t}();function qa(){var t="__SPLITSOFTWARE__";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(e){return!1}}var $a=function(t){return!!Aa(Ga,(function(e){return t===e}))},Ya={showLevel:!0,displayAllErrors:!1},Za=!1;"undefined"!=typeof process&&void 0!==process.version&&process.version&&(Za=!0);var Qa=String(Za?process.env.SPLITIO_DEBUG:qa()?localStorage.getItem("splitio_debug"):""),Ja=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Wa(t,Da(e,Ya))},Xa=Ja("splitio-utils:logger"),tc={enable:function(){Ba(Ga.DEBUG)},setLogLevel:function(t){$a(t)?Ba(t):Xa.error("Invalid Log Level - No changes to the logs will be applied.")},disable:function(){Ba(Ga.NONE)},LogLevel:Ga};/^(enabled?|on)/i.test(Qa)?tc.enable(Ga.DEBUG):$a(Qa)?tc.setLogLevel(Qa):tc.disable();var ec=Ja,nc=ec("",{displayAllErrors:!0}),rc={};function ic(t){rc[t]&&rc[t]--,0===rc[t]&&delete rc[t]}var oc=ec(""),sc=ec(""),ac=/^[a-zA-Z0-9][-_.:a-zA-Z0-9]{0,79}$/;function cc(t,e){if(null==t)sc.error("".concat(e,": you passed a null or undefined event_type, event_type must be a non-empty string."));else if(Ia(t))if(0===t.length)sc.error("".concat(e,": you passed an empty event_type, event_type must be a non-empty string."));else{if(ac.test(t))return t;sc.error("".concat(e,': you passed "').concat(t,'", event_type must adhere to the regular expression /^[a-zA-Z0-9][-_.:a-zA-Z0-9]{0,79}$/g. This means an event_type must be alphanumeric, cannot be more than 80 characters long, and can only include a dash, underscore, period, or colon as separators of alphanumeric characters.'))}else sc.error("".concat(e,": you passed an invalid event_type, event_type must be a non-empty string."));return!1}var uc=ec("");function lc(t,e){return Oa(t)||null==t?t:(uc.error("".concat(e,": value must be a finite number.")),!1)}var hc=ec(""),fc=1024;function dc(t,e){if(null==t)return{properties:null,size:fc};if(!Ra(t))return hc.error("".concat(e,": properties must be a plain object.")),{properties:!1,size:fc};var n=Object.keys(t),r=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=t[e[r]];return n}(t),i={properties:r,size:fc};n.length>300&&hc.warn("".concat(e,": Event has more than 300 properties. Some of them will be trimmed when processed."));for(var o=0;o<n.length;o++){i.size+=2*n[o].length;var s=r[n[o]],a=Ia(s),c=Oa(s),u=ja(s),l=null===s;if(a||c||u||l||(r[n[o]]=null,s=null,l=!0,hc.warn("".concat(e,": Property ").concat(n[o]," is of invalid type. Setting value to null."))),l?i.size+=0:c?i.size+=8:u?i.size+=4:a&&(i.size+=2*s.length),i.size>32768){hc.error("".concat(e,": The maximum size allowed for the properties is 32768 bytes, which was exceeded. Event not queued.")),i.properties=!1;break}}return i}var pc=ec("");function gc(t,e,n){if(null==t)return pc.error("".concat(e,": you passed a null or undefined ").concat(n,", ").concat(n," must be a non-empty string.")),!1;if(Oa(t))return pc.warn("".concat(e,": ").concat(n,' "').concat(t,'" is not of type string, converting.')),Pa(t);if(Ia(t)){if((t=t.trim()).length>0&&t.length<=250)return t;0===t.length?pc.error("".concat(e,": you passed an empty string, ").concat(n," must be a non-empty string.")):t.length>250&&pc.error("".concat(e,": ").concat(n," too long, ").concat(n," must be 250 characters or less."))}else pc.error("".concat(e,": you passed an invalid ").concat(n," type, ").concat(n," must be a non-empty string."));return!1}function mc(t,e){if(Ra(t)){var n=gc(t.matchingKey,e,"matchingKey"),r=gc(t.bucketingKey,e,"bucketingKey");return n&&r?{matchingKey:n,bucketingKey:r}:(pc.error("".concat(e,": Key must be an object with bucketingKey and matchingKey with valid string properties.")),!1)}return gc(t,e,"key")}var yc="definition not found",vc="not ready",_c="exception",bc=ec(""),Sc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/;function wc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"split name";if(null==t)bc.error("".concat(e,": you passed a null or undefined ").concat(n,", ").concat(n," must be a non-empty string."));else if(Ia(t)){if(Sc.test(t)&&(bc.warn("".concat(e,": ").concat(n,' "').concat(t,'" has extra whitespace, trimming.')),t=t.trim()),t.length>0)return t;bc.error("".concat(e,": you passed an empty ").concat(n,", ").concat(n," must be a non-empty string."))}else bc.error("".concat(e,": you passed an invalid ").concat(n,", ").concat(n," must be a non-empty string."));return!1}function Tc(t,e,n,r){return!t.get(t.constants.READY,!0)||n!==yc&&null!=n||(bc.warn("".concat(r,': you passed "').concat(e,'" that does not exist in this environment, please double check what Splits exist in the web console.')),!1)}var Ec=ec("");function kc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"split_names",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"split name";if(Array.isArray(t)&&t.length>0){var i=[];if(t.forEach((function(t){var n=wc(t,e,r);n&&i.push(n)})),i.length)return Ma(i)}return Ec.error("".concat(e,": ").concat(n," must be a non-empty array.")),!1}var Cc="localhost",Ac="standalone",Ic="producer",Oc="consumer",Nc="MEMORY",xc="LOCALSTORAGE",Rc="control",Dc={treatment:Rc,config:null},Mc="GOOGLE_ANALYTICS_TO_SPLIT",Pc="SPLIT_TO_GOOGLE_ANALYTICS",Fc="IMPRESSION",Lc="EVENT",jc=[{type:"byName",maxLength:400,queryParam:"names="},{type:"byPrefix",maxLength:50,queryParam:"prefixes="}],Hc=ec(""),Uc=/[A-Z]/;function Kc(t,e){if(null==t)Hc.error("".concat(e,": you passed a null or undefined traffic_type_name, traffic_type_name must be a non-empty string."));else if(Ia(t)){if(0!==t.length)return Uc.test(t)&&(Hc.warn("".concat(e,": traffic_type_name should be all lowercase - converting string to lowercase.")),t=t.toLowerCase()),t;Hc.error("".concat(e,": you passed an empty traffic_type_name, traffic_type_name must be a non-empty string."))}else Hc.error("".concat(e,": you passed an invalid traffic_type_name, traffic_type_name must be a non-empty string."));return!1}function Gc(t,e){Hc.warn("".concat(t,": Traffic Type ").concat(e," does not have any corresponding Splits in this environment, make sure you're tracking your events to a valid traffic type defined in the Split console."))}function Vc(t,e,n){var r=e.get(e.constants.READY,!0),i=e.get(e.constants.SETTINGS),o=e.get(e.constants.STORAGE).splits;if(!r||i.mode===Cc)return!0;var s=o.trafficTypeExists(t);return wa(s)?s.then((function(e){return e||Gc(n,t),e})):s||Gc(n,t),s}var Bc=ec("",{displayAllErrors:!0});function zc(t){return!t.get(t.constants.DESTROYED,!0)||(Bc.error("Client has already been destroyed - no calls possible."),!1)}function Wc(t,e){return!(!t.get(t.constants.READY,!0)&&!t.get(t.constants.READY_FROM_CACHE,!0)&&(Bc.warn("".concat(e,": the SDK is not ready, results may be incorrect. Make sure to wait for SDK readiness before using this method.")),1))}var qc=function(t){var e=t.conditions,n=Aa(e,(function(t){return"ROLLOUT"===t.conditionType}));return n||(n=e[0]),n?n.partitions.map((function(t){return t.treatment})):[]},$c=function(t){var e;try{e=JSON.parse(t)}catch(n){return null}return null==e?null:{name:e.name,trafficType:e.trafficTypeName||null,killed:e.killed,changeNumber:e.changeNumber||0,treatments:qc(e),configs:e.configurations||{}}},Yc=function(t){var e=[];return t.forEach((function(t){var n=$c(t);null!=n&&e.push(n)})),e},Zc=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=0;e<t.length;e++)for(var n=t[e].matcherGroup.matchers,r=0;r<n.length;r++)if("IN_SEGMENT"===n[r].matcherType)return!0;return!1};function Qc(t,e,n){var r=this,i=this.getSplit(t);return(wa(i)?i:Promise.resolve(i)).then((function(i){if(i){var o=JSON.parse(i);if(!o.changeNumber||o.changeNumber<n){o.killed=!0,o.defaultTreatment=e,o.changeNumber=n;var s=JSON.stringify(o);return r.addSplit(t,s)}}return!1}))}var Jc=function(){function t(){Ha(this,t),this.flush()}return Ka(t,[{key:"addSplit",value:function(t,e){var n=this.getSplit(t);if(n){var r=JSON.parse(n);if(r.trafficTypeName){var i=r.trafficTypeName;this.ttCache[i]--,this.ttCache[i]||delete this.ttCache[i]}Zc(r.conditions)&&this.splitsWithSegmentsCount--}var o=JSON.parse(e);if(o){this.splitCache[t]=e;var s=o.trafficTypeName;return s&&(this.ttCache[s]||(this.ttCache[s]=0),this.ttCache[s]++),Zc(o.conditions)&&this.splitsWithSegmentsCount++,!0}return!1}},{key:"addSplits",value:function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.addSplit(t[0],t[1]))})),n}},{key:"removeSplit",value:function(t){var e=this.getSplit(t);if(e){delete this.splitCache[t];var n=JSON.parse(e),r=n.trafficTypeName;return r&&(this.ttCache[r]--,this.ttCache[r]||delete this.ttCache[r]),Zc(n.conditions)&&this.splitsWithSegmentsCount--,1}return 0}},{key:"removeSplits",value:function(t){var e=this;return t.forEach((function(t){return e.removeSplit(t)})),t.length}},{key:"getSplit",value:function(t){return this.splitCache[t]}},{key:"setChangeNumber",value:function(t){return this.changeNumber=t,!0}},{key:"getChangeNumber",value:function(){return this.changeNumber}},{key:"getAll",value:function(){var t=this;return this.getKeys().map((function(e){return t.splitCache[e]}))}},{key:"getKeys",value:function(){return Object.keys(this.splitCache)}},{key:"trafficTypeExists",value:function(t){return Oa(this.ttCache[t])&&this.ttCache[t]>0}},{key:"usesSegments",value:function(){return-1===this.getChangeNumber()||this.splitsWithSegmentsCount>0}},{key:"flush",value:function(){this.splitCache={},this.ttCache={},this.changeNumber=-1,this.splitsWithSegmentsCount=0}},{key:"fetchMany",value:function(t){var e=this,n={};return t.forEach((function(t){n[t]=e.splitCache[t]||null})),n}},{key:"checkCache",value:function(){return!1}}]),t}();Jc.prototype.killLocally=Qc;var Xc=Jc,tu=ec("splitio-storage:localstorage"),eu=function(){function t(e,n,r){Ha(this,t),this.keys=e,this.splitFiltersValidation=r,this.__checkExpiration(n),this.__checkFilterQuery()}return Ka(t,[{key:"decrementCount",value:function(t){var e=Fa(localStorage.getItem(t))-1;e>0?localStorage.setItem(t,e):localStorage.removeItem(t)}},{key:"decrementCounts",value:function(t){try{if(t){if(t.trafficTypeName){var e=this.keys.buildTrafficTypeKey(t.trafficTypeName);this.decrementCount(e)}if(Zc(t.conditions)){var n=this.keys.buildSplitsWithSegmentCountKey();this.decrementCount(n)}}}catch(r){tu.error(r)}}},{key:"incrementCounts",value:function(t){try{if(t){if(t.trafficTypeName){var e=this.keys.buildTrafficTypeKey(t.trafficTypeName);localStorage.setItem(e,Fa(localStorage.getItem(e))+1)}if(Zc(t.conditions)){var n=this.keys.buildSplitsWithSegmentCountKey();localStorage.setItem(n,Fa(localStorage.getItem(n))+1)}}}catch(r){tu.error(r)}}},{key:"addSplit",value:function(t,e){try{var n=this.keys.buildSplitKey(t),r=localStorage.getItem(n),i=r?JSON.parse(r):null;this.decrementCounts(i),localStorage.setItem(n,e);var o=e?JSON.parse(e):null;return this.incrementCounts(o),!0}catch(s){return tu.error(s),!1}}},{key:"addSplits",value:function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.addSplit(t[0],t[1]))})),n}},{key:"removeSplit",value:function(t){try{var e=this.getSplit(t);localStorage.removeItem(this.keys.buildSplitKey(t));var n=JSON.parse(e);return this.decrementCounts(n),1}catch(r){return tu.error(r),0}}},{key:"removeSplits",value:function(t){for(var e=0,n=t.length,r=0;e<n;e++)r+=this.removeSplit(t[e]);return r}},{key:"getSplit",value:function(t){return localStorage.getItem(this.keys.buildSplitKey(t))}},{key:"setChangeNumber",value:function(t){if(this.cacheReadyButNeedsToFlush&&(this.flush(),this.cacheReadyButNeedsToFlush=!1),this.updateNewFilter){tu.info("Split filter query was modified. Updating cache.");var e=this.keys.buildSplitsFilterQueryKey(),n=this.splitFiltersValidation.queryString;try{n?localStorage.setItem(e,n):localStorage.removeItem(e)}catch(r){tu.error(r)}this.updateNewFilter=!1}try{return localStorage.setItem(this.keys.buildSplitsTillKey(),t+""),localStorage.setItem(this.keys.buildLastUpdatedKey(),Date.now()+""),this.hasSync=!0,!0}catch(r){return tu.error(r),!1}}},{key:"getChangeNumber",value:function(){var t=localStorage.getItem(this.keys.buildSplitsTillKey());return null!==t?Na(t=parseInt(t,10))?-1:t:-1}},{key:"getAll",value:function(){for(var t=localStorage.length,e=[],n=0;n<t;){var r=localStorage.key(n),i=r&&localStorage.getItem(r);null!=r&&this.keys.isSplitKey(r)&&i&&e.push(i),n++}return e}},{key:"getKeys",value:function(){for(var t=localStorage.length,e=[],n=0;n<t;){var r=localStorage.key(n);null!=r&&this.keys.isSplitKey(r)&&e.push(this.keys.extractKey(r)),n++}return e}},{key:"trafficTypeExists",value:function(t){var e=Fa(localStorage.getItem(this.keys.buildTrafficTypeKey(t)));return Oa(e)&&e>0}},{key:"usesSegments",value:function(){if(!this.hasSync)return!0;var t=localStorage.getItem(this.keys.buildSplitsWithSegmentCountKey()),e=null===t?0:Fa(t);return!Oa(e)||e>0}},{key:"flush",value:function(){tu.info("Flushing Splits data from localStorage");for(var t=localStorage.length,e=[],n=0;n<t;n++){var r=localStorage.key(n);null!=r&&this.keys.isSplitCacheKey(r)&&e.push(r)}e.forEach((function(t){localStorage.removeItem(t)})),this.hasSync=!1}},{key:"fetchMany",value:function(t){var e=this,n={};return t.forEach((function(t){n[t]=localStorage.getItem(e.keys.buildSplitKey(t))})),n}},{key:"checkCache",value:function(){return this.getChangeNumber()>-1||this.cacheReadyButNeedsToFlush}},{key:"__checkExpiration",value:function(t){var e=localStorage.getItem(this.keys.buildLastUpdatedKey());null!==e&&!Na(e=parseInt(e,10))&&e<t&&this.flush()}},{key:"__checkFilterQuery",value:function(){var t=this,e=this.splitFiltersValidation,n=e.queryString,r=e.groupedFilters,i=this.keys.buildSplitsFilterQueryKey();if(localStorage.getItem(i)!==n)try{this.updateNewFilter=!0,this.checkCache()&&(localStorage.setItem(this.keys.buildSplitsTillKey(),"-1"),this.getKeys().forEach((function(e){n&&(r.byName.indexOf(e)>-1||r.byPrefix.some((function(t){return e.startsWith(t+"__")})))?t.cacheReadyButNeedsToFlush=!0:t.removeSplit(e)})))}catch(o){tu.error(o)}}}]),t}();eu.prototype.killLocally=Qc;var nu=eu,ru=function(){function t(e){Ha(this,t),this.keys=e,this.flush()}return Ka(t,[{key:"flush",value:function(){this.segmentCache={}}},{key:"addToSegment",value:function(t){var e=this.keys.buildSegmentNameKey(t);return this.segmentCache[e]=!0,!0}},{key:"removeFromSegment",value:function(t){var e=this.keys.buildSegmentNameKey(t);return delete this.segmentCache[e],!0}},{key:"resetSegments",value:function(t){var e,n=this,r=!1,i=Object.keys(this.segmentCache);if(0===t.length&&i.length===t.length)return r;if(i.length!==t.length)r=!0,this.segmentCache={},t.forEach((function(t){n.addToSegment(t)}));else{for(e=0;e<t.length&&this.isInSegment(t[e]);e++);e<t.length&&(r=!0,this.segmentCache={},t.forEach((function(t){n.addToSegment(t)})))}return r}},{key:"isInSegment",value:function(t){var e=this.keys.buildSegmentNameKey(t);return!0===this.segmentCache[e]}},{key:"setChangeNumber",value:function(){return!0}},{key:"getChangeNumber",value:function(){return-1}},{key:"registerSegment",value:function(){return!1}},{key:"registerSegments",value:function(){return!1}},{key:"getRegisteredSegments",value:function(){return[]}}]),t}(),iu=ec("splitio-storage:localstorage"),ou=function(){function t(e){Ha(this,t),this.keys=e}return Ka(t,[{key:"addToSegment",value:function(t){var e=this.keys.buildSegmentNameKey(t);try{return localStorage.setItem(e,"1"),!0}catch(n){return iu.error(n),!1}}},{key:"removeFromSegment",value:function(t){var e=this.keys.buildSegmentNameKey(t);try{return localStorage.removeItem(e),!0}catch(n){return iu.error(n),!1}}},{key:"resetSegments",value:function(t){var e,n=this,r=!1,i=Object.keys(localStorage).reduce((function(t,e){var r=n.keys.extractSegmentName(e);return r&&t.push(r),t}),[]);if(0===t.length&&i.length===t.length)return r;if(i.length!==t.length)r=!0,i.forEach((function(t){return n.removeFromSegment(t)})),t.forEach((function(t){return n.addToSegment(t)}));else{for(e=0;e<t.length&&-1!==i.indexOf(t[e]);e++);e<t.length&&(r=!0,i.forEach((function(t){return n.removeFromSegment(t)})),t.forEach((function(t){return n.addToSegment(t)})))}return r}},{key:"isInSegment",value:function(t){return"1"===localStorage.getItem(this.keys.buildSegmentNameKey(t))}},{key:"setChangeNumber",value:function(){return!0}},{key:"getChangeNumber",value:function(){return-1}},{key:"registerSegment",value:function(){return!1}},{key:"registerSegments",value:function(){return!1}},{key:"getRegisteredSegments",value:function(){return[]}},{key:"flush",value:function(){iu.info("Flushing MySegments data from localStorage"),this.resetSegments([])}}]),t}();function su(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var au=function(){function t(){Ha(this,t),this.queue=[]}return Ka(t,[{key:"state",value:function(){return this.queue}},{key:"track",value:function(t){var e,n;return(e=this.queue).push.apply(e,function(t){if(Array.isArray(t))return su(t)}(n=t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return su(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?su(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),this}},{key:"clear",value:function(){return this.queue.length=0,this}},{key:"toJSON",value:function(){return this.queue}},{key:"isEmpty",value:function(){return 0===this.queue.length}}]),t}(),cu=(function(t,e){for(var n=0,r=t.length-1,i=Math.floor((r+n)/2),o=n,s=r;t[i]!==e&&n<r;)e<t[i]?r=i-1:e>t[i]&&(n=i+1),i=Math.floor((r+n)/2);return i<o?i=o:i>s&&(i=s),e<t[i]&&i>o?i-1:i}).bind(null,[1,1.5,2.25,3.38,5.06,7.59,11.39,17.09,25.63,38.44,57.67,86.5,129.75,194.62,291.93,437.89,656.84,985.26,1477.89,2216.84,3325.26,4987.89,77481.83]),uu=function(){function t(){Ha(this,t),this.clear()}return Ka(t,[{key:"clear",value:function(){return this.counters={},this}},{key:"state",value:function(){return this.counters}},{key:"track",value:function(t,e){return void 0===this.counters[t]&&(this.counters[t]=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.counters[t][cu(e)]++,this}},{key:"isEmpty",value:function(){return 0===Object.keys(this.counters).length}},{key:"toJSON",value:function(){return this.counters}}]),t}(),lu=function(){function t(){Ha(this,t),this.clear()}return Ka(t,[{key:"clear",value:function(){return this.counters={},this}},{key:"state",value:function(){return this.counters}},{key:"track",value:function(t){return void 0===this.counters[t]?this.counters[t]=1:this.counters[t]++,this.counters[t]}},{key:"isEmpty",value:function(){return 0===Object.keys(this.counters).length}},{key:"toJSON",value:function(){return this.counters}}]),t}(),hu=function(){function t(e){var n=this;Ha(this,t);var r=e.get(e.constants.SETTINGS),i=e.get(e.constants.EVENTS);this.onFullQueue=!1,this.maxQueue=r.scheduler.eventsQueueSize,this.queue=[],this.queueByteSize=0,wa(i)?i.then((function(t){n.onFullQueue=t.flushAndResetTimer,n._checkForFlush()})):"function"==typeof i.flushAndResetTimer&&(this.onFullQueue=i.flushAndResetTimer)}return Ka(t,[{key:"state",value:function(){return this.queue}},{key:"track",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.queueByteSize+=e,this.queue.push(t),this._checkForFlush(),!0}},{key:"clear",value:function(){return this.queue=[],this.queueByteSize=0,this}},{key:"toJSON",value:function(){return this.queue}},{key:"isEmpty",value:function(){return 0===this.queue.length}},{key:"_checkForFlush",value:function(){(this.queueByteSize>5242880||this.maxQueue>0&&this.queue.length>=this.maxQueue)&&this.onFullQueue&&this.onFullQueue()}}]),t}(),fu=/[^.]+$/,du=/count\.([^/]+)$/,pu=/latency\.([^/]+)\.bucket\.([0-9]+)$/,gu=function(){function t(e){Ha(this,t),this.settings=e}return Ka(t,[{key:"buildSplitKey",value:function(t){return"".concat(this.settings.storage.prefix,".split.").concat(t)}},{key:"buildTrafficTypeKey",value:function(t){return"".concat(this.settings.storage.prefix,".trafficType.").concat(t)}},{key:"buildSplitsTillKey",value:function(){return"".concat(this.settings.storage.prefix,".splits.till")}},{key:"buildSplitsReady",value:function(){return"".concat(this.settings.storage.prefix,".splits.ready")}},{key:"isSplitKey",value:function(t){return Ea(t,"".concat(this.settings.storage.prefix,".split."))}},{key:"buildSegmentNameKey",value:function(t){return"".concat(this.settings.storage.prefix,".segment.").concat(t)}},{key:"buildSegmentTillKey",value:function(t){return"".concat(this.settings.storage.prefix,".segment.").concat(t,".till")}},{key:"buildRegisteredSegmentsKey",value:function(){return"".concat(this.settings.storage.prefix,".segments.registered")}},{key:"buildSegmentsReady",value:function(){return"".concat(this.settings.storage.prefix,".segments.ready")}},{key:"buildVersionablePrefix",value:function(){return"".concat(this.settings.storage.prefix,"/").concat(this.settings.version,"/").concat(this.settings.runtime.ip)}},{key:"buildImpressionsKey",value:function(){return"".concat(this.settings.storage.prefix,".impressions")}},{key:"buildEventsKey",value:function(){return"".concat(this.settings.storage.prefix,".events")}},{key:"buildLatencyKeyPrefix",value:function(){return"".concat(this.buildVersionablePrefix(),"/latency")}},{key:"buildLatencyKey",value:function(t,e){return"".concat(this.buildLatencyKeyPrefix(),".").concat(t,".bucket.").concat(e)}},{key:"buildCountKey",value:function(t){return"".concat(this.buildVersionablePrefix(),"/count.").concat(t)}},{key:"buildGaugeKey",value:function(t){return"".concat(this.buildVersionablePrefix(),"/gauge.").concat(t)}},{key:"searchPatternForCountKeys",value:function(){return"".concat(this.buildVersionablePrefix(),"/count.*")}},{key:"searchPatternForSplitKeys",value:function(){return"".concat(this.settings.storage.prefix,".split.*")}},{key:"searchPatternForLatency",value:function(){return"".concat(this.buildLatencyKeyPrefix(),".*")}},{key:"extractKey",value:function(t){var e=t.match(fu);if(e&&e.length)return e[0];throw"Invalid latency key provided"}},{key:"extractCounterName",value:function(t){var e=t.match(du);if(e&&e.length)return e[1];throw"Invalid counter key provided"}},{key:"extractLatencyMetricNameAndBucket",value:function(t){var e=t.match(pu);if(e&&e.length>2)return{metricName:e[1],bucketNumber:e[2]};throw"Invalid counter key provided"}}]),t}();function mu(t,e){return(mu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mu(t,e)}function vu(t,e){return!e||"object"!==Ta(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _u(t){return(_u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bu(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return Ra(n)?n[t]:e?void 0:n}}var Su=bu("matchingKey"),wu=bu("bucketingKey",!0),Tu=function(t){yu(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=_u(e);if(n){var i=_u(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return vu(this,t)});function i(t){var e;return Ha(this,i),(e=r.call(this,t)).regexSplitCacheKey=new RegExp("^".concat(e.settings.storage.prefix,"\\.(splits?|trafficType)\\.")),e}return Ka(i,[{key:"buildSegmentNameKey",value:function(t){return"".concat(Su(this.settings.core.key),".").concat(this.settings.storage.prefix,".segment.").concat(t)}},{key:"extractSegmentName",value:function(t){var e="".concat(Su(this.settings.core.key),".").concat(this.settings.storage.prefix,".segment.");if(Ea(t,e))return t.substr(e.length)}},{key:"buildSplitsWithSegmentCountKey",value:function(){return"".concat(this.settings.storage.prefix,".splits.usingSegments")}},{key:"buildLastUpdatedKey",value:function(){return"".concat(this.settings.storage.prefix,".splits.lastUpdated")}},{key:"isSplitCacheKey",value:function(t){return this.regexSplitCacheKey.test(t)}},{key:"buildSplitsFilterQueryKey",value:function(){return"".concat(this.settings.storage.prefix,".splits.filterQuery")}}]),i}(gu),Eu=n("r2q8"),ku=n.n(Eu),Cu="init::timeout",Au="init::ready",Iu="init::cache-ready",Ou="state::splits-arrived",Nu="state::segments-arrived",xu="state::splits-cache-loaded",Ru="state::update",Du="state::check",Mu={startup:{requestTimeoutBeforeReady:5,retriesOnFailureBeforeReady:1,readyTimeout:10,eventsFirstPushWindow:10}},Pu=ec("splitio-settings"),Fu=ec("splitio-settings"),Lu=ec(""),ju=n("LdAO"),Hu=/^\/(testImpressions|metrics|events)/,Uu=/^\/auth/,Ku=/^\/(sse|event-stream)/,Gu={mode:Ac,core:{authorizationKey:void 0,key:void 0,trafficType:void 0,labelsEnabled:!0,IPAddressesEnabled:void 0},scheduler:{featuresRefreshRate:30,segmentsRefreshRate:60,metricsRefreshRate:120,impressionsRefreshRate:60,offlineRefreshRate:15,eventsPushRate:60,eventsQueueSize:500,authRetryBackoffBase:1,streamingReconnectBackoffBase:1},urls:{sdk:"https://sdk.split.io/api",events:"https://events.split.io/api",auth:"https://auth.split.io/api",streaming:"https://streaming.split.io"},storage:{type:Nc},debug:void 0,impressionListener:void 0,version:"".concat("javascript","-").concat(ju.a),integrations:void 0,streamingEnabled:!0,sync:{splitFilters:void 0}};function Vu(t){return Math.round(1e3*t)}function Bu(t){var e,n,r,i,o,s,a,c,u=Da({},Gu,Mu,t);u.scheduler.featuresRefreshRate=Vu(u.scheduler.featuresRefreshRate),u.scheduler.segmentsRefreshRate=Vu(u.scheduler.segmentsRefreshRate),u.scheduler.metricsRefreshRate=Vu(u.scheduler.metricsRefreshRate),u.scheduler.impressionsRefreshRate=Vu(u.scheduler.impressionsRefreshRate),u.scheduler.offlineRefreshRate=Vu(u.scheduler.offlineRefreshRate),u.scheduler.eventsPushRate=Vu(u.scheduler.eventsPushRate),u.startup.requestTimeoutBeforeReady=Vu(u.startup.requestTimeoutBeforeReady),u.startup.readyTimeout=Vu(u.startup.readyTimeout),u.startup.eventsFirstPushWindow=Vu(u.startup.eventsFirstPushWindow),u.mode=function(t,e){if("localhost"===t)return Cc;if(-1===[Ac,Ic,Oc].indexOf(e))throw Error("Invalid mode provided");return e}(u.core.authorizationKey,u.mode),u.storage=(o=void 0===(i=(r=(n=u).storage).type)?Nc:i,a=void 0===(s=r.options)?{}:s,(c=r.prefix)?c+=".SPLITIO":c="SPLITIO",n.mode===Cc?{type:Nc,prefix:c}:((o!==Nc&&o!==xc||o===xc&&!qa())&&(o=Nc,Pu.warn("Invalid or unavailable storage. Fallbacking into MEMORY storage")),{type:o,options:a,prefix:c})),"boolean"==typeof(e=u.debug)?e?tc.enable():tc.disable():"string"==typeof e&&tc.setLogLevel(e),u.runtime={ip:!1,hostname:!1},u.integrations=function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.integrations;if(!Array.isArray(n)||0===n.length)return[];var r=n.filter((function(t){return t&&Ia(t.type)&&e.indexOf(t.type)>-1})),i=n.length-r.length;return i&&Fu.warn("".concat(i," integration ").concat(1===i?"item":"items"," at settings ").concat(1===i?"is":"are"," invalid: integration items must have a valid 'type' value")),r}(t,[Mc,Pc])}(u),!1!==u.streamingEnabled&&(u.streamingEnabled=!0,u.scheduler.authRetryBackoffBase=Vu(u.scheduler.authRetryBackoffBase),u.scheduler.streamingReconnectBackoffBase=Vu(u.scheduler.streamingReconnectBackoffBase));var l,h,f,d,p=(d={validFilters:[],queryString:null,groupedFilters:{}},(l=u.sync.splitFilters)?u.mode!==Ac?(Lu.warn("Factory instantiation: split filters have been configured but will have no effect if mode is not '".concat(Ac,"', since synchronization is being deferred to an external tool.")),d):Array.isArray(l)&&0!==l.length?(jc.forEach((function(t){d.groupedFilters[t.type]=[]})),d.validFilters=l.filter((function(t,e){return t&&(n=t.type,jc.some((function(t){return t.type===n})))&&Array.isArray(t.values)?(d.groupedFilters[t.type]=d.groupedFilters[t.type].concat(t.values),!0):(Lu.warn("Factory instantiation: split filter at position '".concat(e,"' is invalid. It must be an object with a valid filter type ('byName' or 'byPrefix') and a list of 'values'.")),!1);var n})),jc.forEach((function(t){var e=t.type;d.groupedFilters[e].length>0&&(d.groupedFilters[e]=function(t,e,n){var r=kc(e,"Factory instantiation","".concat(t," filter"),"".concat(t," filter value"));if(r){if(r.length>n)throw new Error("".concat(n," unique values can be specified at most for '").concat(t,"' filter. You passed ").concat(r.length,". Please consider reducing the amount or using other filter."));r.sort()}return r||[]}(e,d.groupedFilters[e],t.maxLength))})),d.queryString=(h=d.groupedFilters,f=[],jc.forEach((function(t){var e=h[t.type];e.length>0&&f.push(t.queryParam+e.map((function(t){return encodeURIComponent(t)})).join(","))})),f.length>0?"&"+f.join("&"):null),Lu.debug("Factory instantiation: splits filtering criteria is '".concat(d.queryString,"'.")),d):(Lu.warn("Factory instantiation: splitFilters configuration must be a non-empty array of filter objects."),d):d);return u.sync.splitFilters=p.validFilters,u.sync.__splitFiltersValidation=p,u}var zu={url:function(t){return Hu.test(t)?"".concat(this.urls.events).concat(t):Uu.test(t)?"".concat(this.urls.auth).concat(t):Ku.test(t)?"".concat(this.urls.streaming).concat(t):"".concat(this.urls.sdk).concat(t)},overrideKeyAndTT:function(t,e){return Sa()(Object.create(zu),this,{core:Sa()({},this.core,{key:t,trafficType:e})})}},Wu={COLLECTORS:"metrics_collectors",DESTROYED:"is_destroyed",EVENTS:"events_publisher",HAS_TIMEDOUT:"has_timedout",INTEGRATIONS_MANAGER:"integrations_manager",MY_SEGMENTS_CHANGE_WORKER:"my_segments_change_worker",PRODUCER:"producer",READINESS:"readiness_gate",READY:"is_ready",READY_FROM_CACHE:"is_ready_from_cache",SETTINGS:"settings",STATUS_MANAGER:"status_manager",STORAGE:"storage"},qu=function(){function t(){Ha(this,t),this._map={},this.constants=Wu}return Ka(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"==typeof t&&("string"!=typeof t||t.length)){var n=this._map[t];if(void 0!==n)return n;if(!e){var r,i=new Promise((function(t){return r=t}));return i.manualResolve=r,this._map[t]=i,i}}}},{key:"getAll",value:function(){return Sa()({},this._map)}},{key:"put",value:function(t,e){var n=this;if("string"!=typeof t||"string"==typeof t&&!t.length||void 0===e)return!1;var r=this._map[t];return(void 0===r||"function"==typeof r.manualResolve)&&(wa(r)&&r.manualResolve&&r.manualResolve(e),wa(e)&&e.then((function(e){return n._map[t]=e,e})).catch((function(e){return n._map[t]=void 0,e})),this._map[t]=e,!0)}}]),t}(),$u=function(t){return Ra(t)?{matchingKey:t.matchingKey,bucketingKey:t.bucketingKey}:{matchingKey:t,bucketingKey:t}};function Yu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zu,Qu="object"===("undefined"==typeof performance?"undefined":Ta(performance))&&"function"==typeof performance.now?performance.now.bind(performance):Date.now,Ju=new Wa("[TIME TRACKER]",{showLevel:!1}),Xu={},tl={SDK_READY:"Getting ready - Split SDK",SDK_GET_TREATMENT:"SDK - Get Treatment",SDK_GET_TREATMENTS:"SDK - Get Treatments",SDK_GET_TREATMENT_WITH_CONFIG:"SDK - Get Treatment with config",SDK_GET_TREATMENTS_WITH_CONFIG:"SDK - Get Treatments with config",SPLITS_READY:"Getting ready - Splits",SEGMENTS_READY:"Getting ready - Segments",METRICS_PUSH:"Pushing - Metrics",IMPRESSIONS_PUSH:"Pushing - Impressions",EVENTS_PUSH:"Pushing - Events",MY_SEGMENTS_FETCH:"Fetching - My Segments",SEGMENTS_FETCH:"Fetching - Segments",SPLITS_FETCH:"Fetching - Splits"},el=(Yu(Zu={},tl.SDK_READY,{collector:"client",method:"ready"}),Yu(Zu,tl.SDK_GET_TREATMENT,{collector:"client",method:"getTreatment"}),Yu(Zu,tl.SDK_GET_TREATMENTS,{collector:"client",method:"getTreatments"}),Yu(Zu,tl.SDK_GET_TREATMENT_WITH_CONFIG,{collector:"client",method:"getTreatmentWithConfig"}),Yu(Zu,tl.SDK_GET_TREATMENTS_WITH_CONFIG,{collector:"client",method:"getTreatmentsWithConfig"}),Yu(Zu,tl.MY_SEGMENTS_FETCH,{collector:"mySegments",method:"latency"}),Yu(Zu,tl.SEGMENTS_FETCH,{collector:"segmentChanges",method:"latency"}),Yu(Zu,tl.SPLITS_FETCH,{collector:"splitChanges",method:"latency"}),Zu),nl=function(t,e){return"string"==typeof e?t+e:t},rl=function(t,e){var n=el[t];return!(!n||!e)&&e[n.collector]},il=function(t,e){var n=el[t];return!(!n||!e)&&e[n.method]},ol={__attachToPromise:function(t,e,n,r){var i=this;return t.then((function(t){return i.stop(e,r),n&&n.count&&n.count(t.status),t})).catch((function(t){throw i.stop(e,r),n&&n.countException&&n.countException(),t}))},start:function(t,e,n){var r,i=xa++,o=rl(t,e);wa(n)?r=this.__attachToPromise(n,t,o,i):(r=this.stop.bind(this,t,i),el[t]&&!o&&(r.setCollectorForTask=this.setCollectorForTask.bind(this,t,i)));var s,a=nl(t,i),c=il(t,o);return Xu[a]={cb:c,timer:(s=Qu(),function(){return Math.round(Qu()-s)})},r},setCollectorForTask:function(t,e,n){var r=rl(t,n);if(r){var i=nl(t,e);Xu[i].cb=il(t,r)}},stop:function(t,e){var n=nl(t,e),r=Xu[n];if(r){var i=r.timer();return Ju.debug("[".concat(t,"] took ").concat(i,"ms to finish.")),r.cb&&r.cb(i),delete Xu[n],i}},TaskNames:tl},sl={ALL:1,SEGMENT:2,WHITELIST:3,EQUAL_TO:4,GREATER_THAN_OR_EQUAL_TO:5,LESS_THAN_OR_EQUAL_TO:6,BETWEEN:7,UNDEFINED:8,EQUAL_TO_SET:9,CONTAINS_ANY_OF_SET:10,CONTAINS_ALL_OF_SET:11,PART_OF_SET:12,ENDS_WITH:13,STARTS_WITH:14,CONTAINS_STRING:15,IN_SPLIT_TREATMENT:16,EQUAL_TO_BOOLEAN:17,MATCHES_STRING:18},al={BOOLEAN:"BOOLEAN",STRING:"STRING",NUMBER:"NUMBER",SET:"SET",DATETIME:"DATETIME",NOT_SPECIFIED:"NOT_SPECIFIED"},cl=function(){function t(){var e=this;Ha(this,t),this.__setData__=[];var n=arguments[0];Array.isArray(n)&&n.forEach((function(t){e.add(t)}))}return Ka(t,[{key:"clear",value:function(){this.__setData__.length&&(this.__setData__.length=0)}},{key:"add",value:function(t){return this.has(t)||this.__setData__.push(t),this}},{key:"delete",value:function(t){var e=this.__setData__.indexOf(t);return-1!==e&&(this.__setData__.splice(e,1),!0)}},{key:"has",value:function(t){return-1!==this.__setData__.indexOf(t)}},{key:"forEach",value:function(t){var e=arguments[1];if("function"!=typeof t)throw new TypeError(t+" is not a function");for(var n=0;n<this.__setData__.length;n++){var r=this.__setData__[n];t.call(e,r,r,this)}}},{key:"size",get:function(){return this.__setData__.length}}]),t}();function ul(t){return t instanceof cl?t.__setData__.slice():Array.from(t)}var ll=Array.from&&Set&&Set.prototype.values?Set:cl,hl=function(t){return t.whitelist},fl=function(t){return t.value};function dl(t){return new Date(t).setUTCHours(0,0,0,0)}function pl(t){return new Date(t).setUTCSeconds(0,0)}var gl=function(t){var e=t.map((function(t){var e=t.negate,n=t.keySelector,r=t.userDefinedSegmentMatcherData,i=t.whitelistMatcherData,o=t.unaryNumericMatcherData,s=t.betweenMatcherData,a=t.dependencyMatcherData,c=t.booleanMatcherData,u=t.stringMatcherData,l=n&&n.attribute,h=function(t){switch(t){case"ALL_KEYS":return sl.ALL;case"IN_SEGMENT":return sl.SEGMENT;case"WHITELIST":return sl.WHITELIST;case"EQUAL_TO":return sl.EQUAL_TO;case"GREATER_THAN_OR_EQUAL_TO":return sl.GREATER_THAN_OR_EQUAL_TO;case"LESS_THAN_OR_EQUAL_TO":return sl.LESS_THAN_OR_EQUAL_TO;case"BETWEEN":return sl.BETWEEN;case"EQUAL_TO_SET":return sl.EQUAL_TO_SET;case"CONTAINS_ANY_OF_SET":return sl.CONTAINS_ANY_OF_SET;case"CONTAINS_ALL_OF_SET":return sl.CONTAINS_ALL_OF_SET;case"PART_OF_SET":return sl.PART_OF_SET;case"ENDS_WITH":return sl.ENDS_WITH;case"STARTS_WITH":return sl.STARTS_WITH;case"CONTAINS_STRING":return sl.CONTAINS_STRING;case"IN_SPLIT_TREATMENT":return sl.IN_SPLIT_TREATMENT;case"EQUAL_TO_BOOLEAN":return sl.EQUAL_TO_BOOLEAN;case"MATCHES_STRING":return sl.MATCHES_STRING;default:return sl.UNDEFINED}}(t.matcherType),f=al.STRING,d=void 0;return h===sl.SEGMENT?d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).segmentName}(r):h===sl.WHITELIST?d=function(t){return new ll(t.whitelist)}(i):h===sl.EQUAL_TO?(d=fl(o),f=al.NUMBER,"DATETIME"===o.dataType&&(d=dl(d),f=al.DATETIME)):h===sl.GREATER_THAN_OR_EQUAL_TO||h===sl.LESS_THAN_OR_EQUAL_TO?(d=fl(o),f=al.NUMBER,"DATETIME"===o.dataType&&(d=pl(d),f=al.DATETIME)):h===sl.BETWEEN?(d=s,f=al.NUMBER,"DATETIME"===s.dataType&&(d.start=pl(d.start),d.end=pl(d.end),f=al.DATETIME)):h===sl.EQUAL_TO_SET||h===sl.CONTAINS_ANY_OF_SET||h===sl.CONTAINS_ALL_OF_SET||h===sl.PART_OF_SET?(d=hl(i),f=al.SET):h===sl.STARTS_WITH||h===sl.ENDS_WITH||h===sl.CONTAINS_STRING?d=hl(i):h===sl.IN_SPLIT_TREATMENT?(d=a,f=al.NOT_SPECIFIED):h===sl.EQUAL_TO_BOOLEAN?(f=al.BOOLEAN,d=c):h===sl.MATCHES_STRING&&(d=u),{attribute:l,negate:e,type:h,value:d,dataType:f}}));return-1===Ca(e,(function(t){return t.type===sl.UNDEFINED}))?e:[]};function ml(t,e){if(!(this instanceof ml))return new ml(t,e);if(100!==t[t.length-1])throw new RangeError("Provided invalid dataset as input");this._ranges=t,this._treatments=e}ml.parse=function(t){var e=t.reduce((function(t,e){var n=e.treatment;return t.ranges.push(t.inc+=e.size),t.treatments.push(n),t}),{inc:0,ranges:[],treatments:[]});return new ml(e.ranges,e.treatments)},ml.prototype.getTreatmentFor=function(t){if(t<0||t>100)throw new RangeError("Please provide a value between 0 and 100");var e=Ca(this._ranges,(function(e){return t<=e}));return this._treatments[e]};var yl=ml,vl=ec("splitio-engine:matcher");function _l(t){return vl.debug("[allMatcher] is always true"),null!=t}var bl=ec("splitio-engine:matcher"),Sl=ec("splitio-engine:matcher"),wl=ec("splitio-engine:matcher"),Tl=ec("splitio-engine:matcher"),El=ec("splitio-engine:matcher"),kl=ec("splitio-engine:matcher"),Cl=ec("splitio-engine:matcher"),Al=ec("splitio-engine:matcher"),Il=ec("splitio-engine:matcher"),Ol=ec("splitio-engine:matcher"),Nl=ec("splitio-engine:matcher"),xl=ec("splitio-engine:matcher"),Rl=ec("splitio-engine:matcher"),Dl=ec("splitio-engine:matcher");function Ml(t,e,n){var r=!1;return Array.isArray(e)&&(r=-1!==e.indexOf(t.treatment)),Dl.debug('[dependencyMatcher] Parent split "'.concat(n,'" evaluated to "').concat(t.treatment,'" with label "').concat(t.label,'". ').concat(n," evaluated treatment is part of [").concat(e,"] ? ").concat(r,".")),r}var Pl=ec("splitio-engine:matcher"),Fl=ec("splitio-engine:matcher"),Ll=function(t,e){var n,r,i,o=t.type,s=t.value;return o===sl.ALL?n=_l:o===sl.SEGMENT?n=function(t,e){return function(n){var r=e.segments.isInSegment(t,n);return wa(r)?r.then((function(e){return bl.debug("[asyncSegmentMatcher] evaluated ".concat(t," / ").concat(n," => ").concat(r)),e})):bl.debug("[segmentMatcher] evaluated ".concat(t," / ").concat(n," => ").concat(r)),r}}(s,e):o===sl.WHITELIST?(i=s,n=function(t){var e=i.has(t);return Sl.debug("[whitelistMatcher] evaluated ".concat(t," in [").concat(ul(i).join(","),"] => ").concat(e)),e}):o===sl.EQUAL_TO?n=function(t){return function(e){var n=e===t;return wl.debug("[equalToMatcher] is ".concat(e," equal to ").concat(t,"? ").concat(n)),n}}(s):o===sl.GREATER_THAN_OR_EQUAL_TO?n=function(t){return function(e){var n=e>=t;return Tl.debug("[greaterThanEqualMatcher] is ".concat(e," greater than ").concat(t,"? ").concat(n)),n}}(s):o===sl.LESS_THAN_OR_EQUAL_TO?n=function(t){return function(e){var n=e<=t;return El.debug("[lessThanEqualMatcher] is ".concat(e," less than ").concat(t,"? ").concat(n)),n}}(s):o===sl.BETWEEN?(r=s,n=function(t){var e=t>=r.start&&t<=r.end;return kl.debug("[betweenMatcher] is ".concat(t," between ").concat(r.start," and ").concat(r.end,"? ").concat(e)),e}):o===sl.EQUAL_TO_SET?n=function(t){return function(e){for(var n=e.length===t.length,r=function(r){Ca(t,(function(t){return t===e[r]}))<0&&(n=!1)},i=0;i<e.length&&n;i++)r(i);return Cl.debug("[equalToSetMatcher] is ".concat(e," equal to set ").concat(t,"? ").concat(n)),n}}(s):o===sl.CONTAINS_ANY_OF_SET?n=function(t){return function(e){for(var n=!1,r=function(r){Ca(e,(function(e){return e===t[r]}))>=0&&(n=!0)},i=0;i<t.length&&!n;i++)r(i);return Il.debug("[containsAnyMatcher] ".concat(e," contains at least an element of ").concat(t,"? ").concat(n)),n}}(s):o===sl.CONTAINS_ALL_OF_SET?n=function(t){return function(e){var n=!0;if(e.length<t.length)n=!1;else for(var r=function(r){Ca(e,(function(e){return e===t[r]}))<0&&(n=!1)},i=0;i<t.length&&n;i++)r(i);return Al.debug("[containsAllMatcher] ".concat(e," contains all elements of ").concat(t,"? ").concat(n)),n}}(s):o===sl.PART_OF_SET?n=function(t){return function(e){for(var n=e.length<=t.length,r=function(r){Ca(t,(function(t){return t===e[r]}))<0&&(n=!1)},i=0;i<e.length&&n;i++)r(i);return Ol.debug("[partOfMatcher] ".concat(e," is part of ").concat(t,"? ").concat(n)),n}}(s):o===sl.STARTS_WITH?n=function(t){return function(e){var n=t.some((function(t){return Ea(e,t)}));return Nl.debug("[startsWithMatcher] ".concat(e," starts with ").concat(t,"? ").concat(n)),n}}(s):o===sl.ENDS_WITH?n=function(t){return function(e){var n=t.some((function(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!(!Ia(t)||!Ia(e))&&(n&&(t=t.toLowerCase(),e=e.toLowerCase()),t.slice(t.length-e.length)===e)}(e,t)}));return xl.debug("[endsWithMatcher] ".concat(e," ends with ").concat(t,"? ").concat(n)),n}}(s):o===sl.CONTAINS_STRING?n=function(t){return function(e){var n=t.some((function(t){return Ia(e)&&e.indexOf(t)>-1}));return Rl.debug("[containsStringMatcher] ".concat(e," contains ").concat(t,"? ").concat(n)),n}}(s):o===sl.IN_SPLIT_TREATMENT?n=function(t,e){var n=t.split,r=t.treatments;return function(t,i){var o=t.key,s=t.attributes;Dl.debug('[dependencyMatcher] will evaluate parent split: "'.concat(n,'" with key: ').concat(JSON.stringify(o)," ").concat(s?"\n attributes: ".concat(JSON.stringify(s)):""));var a=i(o,n,s,e);return wa(a)?a.then((function(t){return Ml(t,r,n)})):Ml(a,r,n)}}(s,e):o===sl.EQUAL_TO_BOOLEAN?n=function(t){return function(e){var n=t===e;return Pl.debug("[booleanMatcher] ".concat(t," === ").concat(e)),n}}(s):o===sl.MATCHES_STRING&&(n=function(t){return function(e){var n;try{n=new RegExp(t)}catch(i){return Fl.debug("[stringMatcher] ".concat(t," is an invalid regex")),!1}var r=n.test(e);return Fl.debug("[stringMatcher] does ".concat(e," matches with ").concat(t,"? ").concat(r?"yes":"no")),r}}(s)),n},jl=ec("splitio-engine:sanitize"),Hl=sl,Ul=al;function Kl(t,e){return{key:t,attributes:e}}var Gl=ec("splitio-engine:value"),Vl=function(t,e,n){var r=e.attribute,i=function(t,e,n){var r=void 0;return e?n?(r=n[e],Gl.debug("Extracted attribute [".concat(e,"], [").concat(r,"] will be used for matching."))):Gl.warn("Defined attribute [".concat(e,"], no attributes received.")):r=t,r}(t,r,n),o=function(t,e,n,r){var i,o,s,a,c=function(t,e){switch(t){case Hl.EQUAL_TO:return"DATETIME"===e?dl:void 0;case Hl.GREATER_THAN_OR_EQUAL_TO:case Hl.LESS_THAN_OR_EQUAL_TO:case Hl.BETWEEN:return"DATETIME"===e?pl:void 0;case Hl.IN_SPLIT_TREATMENT:return Kl;default:return}}(t,n);switch(n){case Ul.NUMBER:case Ul.DATETIME:o=Fa(e),i=isNaN(o)?void 0:o;break;case Ul.STRING:a=s=e,Ra(s)&&(a=s.matchingKey?s.matchingKey:void 0),i=Pa(a)||void 0;break;case Ul.SET:i=function(t){var e=Array.isArray(t)?Ma(t.map((function(t){return t+""}))):[];return e.length?e:void 0}(e);break;case Ul.BOOLEAN:i=function(t){if(!0===t||!1===t)return t;if("string"==typeof t){var e=t.toLocaleLowerCase();if("true"===e)return!0;if("false"===e)return!1}}(e);break;case Ul.NOT_SPECIFIED:i=e;break;default:i=void 0}return c&&(i=c(i,r)),jl.debug("Attempted to sanitize [".concat(e,"] which should be of type [").concat(n,"]. \n Sanitized and processed value => [").concat(i instanceof Object?JSON.stringify(i):i,"]")),i}(e.type,i,e.dataType,n);return void 0!==o?o:void Gl.warn("Value ".concat(i," ").concat(r?"for attribute ".concat(r," "):0,"doesn't match with expected type."))};function Bl(t){var e=function(t){return e=function(t){return(t=Number(t))<0?Math.ceil(t):Math.floor(t)}(t),n=Math.pow(2,32),e-Math.floor(e/n)*n;var e,n}(t);return e>=Math.pow(2,31)?e-Math.pow(2,32):e}var zl=function(t,e){return Math.abs(function(t,e){for(var n=0,r=0;r<t.length;r++)n=Bl(Bl(31*n)+t.charCodeAt(r));return Bl(n^e)}(t,e)%100)+1},Wl=n("lh1e"),ql=n.n(Wl),$l=ql.a.stringSource,Yl=ql.a.stringDestination,Zl=ql.a.encodeUTF16toUTF8;function Ql(t,e){return(65535&t)*e+(((t>>>16)*e&65535)<<16)}function Jl(t,e){return t<<e|t>>>32-e}function Xl(t,e){return function(t,e){for(var n,r=(t=t||"").length%4,i=t.length-r,o=e=e||0,s=0,a=3432918353,c=461845907,u=0;u<i;u+=4)s=Ql(s=255&t.charCodeAt(u)|(255&t.charCodeAt(u+1))<<8|(255&t.charCodeAt(u+2))<<16|(255&t.charCodeAt(u+3))<<24,a),s=Ql(s=Jl(s,15),c),o=Ql(o=Jl(o^=s,13),5)+3864292196;switch(s=0,r){case 3:s^=(255&t.charCodeAt(u+2))<<16;case 2:s^=(255&t.charCodeAt(u+1))<<8;case 1:s=Ql(s^=255&t.charCodeAt(u),a),o^=s=Ql(s=Jl(s,15),c)}return n=o^=t.length,n=Ql(n^=n>>>16,2246822507),(o=(n=Ql(n^=n>>>13,3266489909))^n>>>16)>>>0}((Zl($l(t),n=Yl()),n()),e>>>0);var n}var th={hash:Xl,bucket:function(t,e){return Math.abs(Xl(t,e)%100)+1}},eh=ec("splitio-engine");function nh(t){return 2===t?th.bucket:zl}var rh=function(t,e,n,r){var i=nh(r)(t,e),o=n.getTreatmentFor(i);return eh.debug("[engine] using algo ".concat(2!==r?"legacy":"murmur"," bucket ").concat(i," for key ").concat(t," using seed ").concat(e," - treatment ").concat(o)),o};function ih(t,e,n,r,i,o){if(t)return{treatment:rh(e,n,r,o),label:i}}var oh=function(t,e,n,r){return function(i,o,s,a,c,u,l){if("ROLLOUT"===r&&!function(t,e,n,r){return!(t<100&&nh(r)(e,n)>t)}(s,i.bucketingKey,a,l))return{treatment:void 0,label:"not in split"};var h=t(i,u,c);return wa(h)?h.then((function(t){return ih(t,i.bucketingKey,o,e,n,l)})):ih(h,i.bucketingKey,o,e,n,l)}},sh=ec("splitio-engine:combiner");function ah(){return sh.error("Invalid Split provided, no valid conditions found"),{treatment:Rc,label:_c}}function ch(t){for(var e=t.length,n=0;n<e;n++){var r=t[n];if(void 0!==r)return sh.debug("Treatment found: ".concat(r.treatment)),r}sh.debug("All predicates evaluated, no treatment found.")}var uh=ec("splitio-engine:combiner");function lh(t){for(var e,n=0,r=t.length;n<r&&t[n];n++);return uh.debug("[andCombiner] evaluates to ".concat(e=n===r)),e}var hh=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=t.map((function(t){return t.apply(void 0,n)}));return-1!==Ca(i,wa)?Promise.all(i).then(lh):lh(i)}};function fh(t,e){return{treatment:ka(t,"treatment",e),label:ka(t,"label","default rule")}}function dh(t,e){if(!(this instanceof dh))return new dh(t,e);this.baseInfo=t,this.evaluator=e,"string"!=typeof this.baseInfo.defaultTreatment&&(this.baseInfo.defaultTreatment=Rc)}dh.parse=function(t,e){var n=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=i.matcherGroup.matchers,s=i.partitions,a=i.label,c=i.conditionType,u=(o=gl(o)).map((function(t){var n=Ll(t,e);return function(e,r,i){var o=Vl(e,t,r),s=void 0!==o&&n(o,i);return wa(s)?s.then((function(e){return Boolean(e^t.negate)})):Boolean(s^t.negate)}}));if(0===u.length){n=[];break}n.push(oh(hh(u),yl.parse(s),a,c))}return function(t){return!Array.isArray(t)||Array.isArray(t)&&0===t.length?ah:function(e,n,r,i,o,s,a){var c=t.map((function(t){return t(e,n,r,i,a,o,s)}));return-1!==Ca(c,wa)?Promise.all(c).then((function(t){return ch(t)})):ch(c)}}(n)}(t.conditions,e);return new dh(Sa()({},t),n)},dh.prototype.getKey=function(){return this.baseInfo.name},dh.prototype.getTreatment=function(t,e,n){var r,i,o,s=this.baseInfo,a=s.killed,c=s.seed,u=s.defaultTreatment,l=s.trafficAllocation,h=s.trafficAllocationSeed,f=s.algo;try{r=$u(t)}catch(p){return{treatment:Rc,label:_c}}if(this.isGarbage())i=Rc,o="archived";else{if(!a){var d=this.evaluator(r,c,l,h,e,f,n);return wa(d)?d.then((function(t){return fh(t,u)})):fh(d,u)}i=u,o="killed"}return{treatment:i,label:o}},dh.prototype.isGarbage=function(){return"ARCHIVED"===this.baseInfo.status},dh.prototype.getChangeNumber=function(){return this.baseInfo.changeNumber};var ph=dh,gh={treatment:Rc,label:_c,config:null};function mh(t,e,n,r){var i;try{i=r.splits.getSplit(e)}catch(o){return Promise.resolve(gh)}return wa(i)?i.then((function(e){return vh(e,t,n,r)})):vh(i,t,n,r)}function yh(t,e,n,r){var i,o={};try{i=r.splits.fetchMany(e)}catch(s){return e.forEach((function(t){o[t]=gh})),Promise.resolve(o)}return wa(i)?i.then((function(i){return _h(e,i,t,n,r)})):_h(e,i,t,n,r)}function vh(t,e,n,r){var i={treatment:Rc,label:yc,config:null};if(t){var o=JSON.parse(t),s=ph.parse(o,r);if(i=s.getTreatment(e,n,mh),wa(i))return i.then((function(t){return t.changeNumber=s.getChangeNumber(),t.config=ka(o,"configurations.".concat(t.treatment),null),t}));i.changeNumber=s.getChangeNumber(),i.config=ka(o,"configurations.".concat(i.treatment),null)}return i}function _h(t,e,n,r,i){var o={},s=[];return t.forEach((function(t){var a=vh(e[t],n,r,i);wa(a)?s.push(a.then((function(e){o[t]=e}))):o[t]=a})),s.length>0?Promise.all(s).then((function(){return o})):o}var bh=ec("splitio-client:impression-tracker"),Sh=ec("splitio-client:impressions-tracker"),wh=ec("splitio-client:event-tracker"),Th=ec("splitio-client"),Eh=function(t){var e,n=t.get(t.constants.SETTINGS),r=ka(n,"core.key",void 0),i=ka(n,"core.trafficType",void 0);n.core.key=n.mode===Cc&&void 0===r?"localhost_key":mc(r,"Client instantiation");var o=[n.core.key];if(void 0!==i){var s=Kc(i,"Client instantiation");n.core.trafficType=s,o.push(s)}var a=function(t,e,n){var r="REDIS"!==t.get(t.constants.SETTINGS).storage.type,i=function(t){var e=t.get(t.constants.STORAGE),n=t.get(t.constants.COLLECTORS),r=function(t){var e=t.get(t.constants.STORAGE).impressions,n=t.get(t.constants.SETTINGS),r=n.impressionListener,i=t.get(t.constants.INTEGRATIONS_MANAGER,!0),o=n.runtime,s=o.ip,a=o.hostname,c=n.version;return{track:function(t,n){var o=e.track([t]);if(wa(o)&&o.catch((function(t){bh.error("Could not store impression. Error: ".concat(t))})),r||i){var u={impression:Sa()({},t),attributes:n,ip:s,hostname:a,sdkLanguageVersion:c};setTimeout((function(){i&&i.handleImpression(u);try{r&&r.logImpression(u)}catch(t){bh.error("Impression listener logImpression method threw: ".concat(t,"."))}}),0)}}}}(t),i=function(t){var e=t.get(t.constants.STORAGE).impressions,n=t.get(t.constants.SETTINGS),r=n.impressionListener,i=t.get(t.constants.INTEGRATIONS_MANAGER,!0),o=n.runtime,s=o.ip,a=o.hostname,c=n.version,u=[];return{queue:function(t,e){u.push({impression:t,attributes:e})},track:function(){var t=u.length,n=u.splice(0,t),o=e.track(n.map((function(t){return t.impression})));if(wa(o)&&o.then((function(){Sh.debug("Successfully stored ".concat(t," impression").concat(1===t?"":"s","."))})).catch((function(e){Sh.error("Could not store impressions bulk with ".concat(t," impression").concat(1===t?"":"s",". Error: ").concat(e))})),r||i)for(var l=function(t){var e={impression:Sa()({},n[t].impression),attributes:n[t].attributes,ip:s,hostname:a,sdkLanguageVersion:c};setTimeout((function(){i&&i.handleImpression(e);try{r&&r.logImpression(e)}catch(t){Sh.error("Impression listener logImpression method threw: ".concat(t,"."))}}),0)},h=0;h<t;h++)l(h)}}}(t),o=function(t){var e=t.get(t.constants.STORAGE).events,n=t.get(t.constants.INTEGRATIONS_MANAGER,!0);function r(t,e){var r=t.trafficTypeName,i=t.key,o=t.value,s=t.timestamp,a=t.properties,c='event of type "'.concat(t.eventTypeId,'" for traffic type "').concat(r,'". Key: ').concat(i,". Value: ").concat(o,". Timestamp: ").concat(s,". ").concat(a?"With properties.":"With no properties.");return e?(wh.info("Successfully qeued ".concat(c)),n&&setTimeout((function(){var e=Sa()({},t);t.properties&&(e.properties=Sa()({},t.properties)),n.handleEvent(e)}),0)):wh.warn("Failed to queue ".concat(c)),e}return{track:function(t,n){var i=e.track(t,n);return wa(i)?i.then(r.bind(null,t)):r(t,i)}}}(t);function s(t,i,o){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=ol.start(ol.TaskNames[s?"SDK_GET_TREATMENT_WITH_CONFIG":"SDK_GET_TREATMENT"],n),u=mh(t,i,o,e);return wa(u)?u.then((function(e){return c(e,i,t,o,a,r.track,s,"getTreatment".concat(s?"withConfig":""))})):c(u,i,t,o,a,r.track,s,"getTreatment".concat(s?"withConfig":""))}function a(t,r,o){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=ol.start(ol.TaskNames[s?"SDK_GET_TREATMENTS_WITH_CONFIG":"SDK_GET_TREATMENTS"],n),u={},l=function(e){return Object.keys(e).forEach((function(n){u[n]=c(e[n],n,t,o,!1,i.queue,s,"getTreatments".concat(s?"withConfig":""))})),i.track(),a(),u},h=yh(t,r,o,e);return wa(h)?h.then((function(t){return l(t)})):l(h)}function c(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,u=t.get(t.constants.READY,!0)||t.get(t.constants.READY_FROM_CACHE,!0),l=Su(r),h=wu(r);u||(e={treatment:Rc,label:vc});var f=e.treatment,d=e.label,p=e.changeNumber,g=e.config,m=void 0===g?null:g;return Th.info("Split: ".concat(n,". Key: ").concat(l,". Evaluation: ").concat(f,". Label: ").concat(d)),Tc(t,n,d,c)&&(Th.info("Queueing corresponding impression."),s({feature:n,keyName:l,treatment:f,time:Date.now(),bucketingKey:h,label:d,changeNumber:p},i)),o&&o(),a?{treatment:f,config:m}:f}return{getTreatment:s,getTreatmentWithConfig:function(t,e,n){return s(t,e,n,!0)},getTreatments:a,getTreatmentsWithConfig:function(t,e,n){return a(t,e,n,!0)},track:function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1024,c=Su(e),u={eventTypeId:r,trafficTypeName:n,value:i,timestamp:Date.now(),key:c,properties:s};return Vc(n,t,"track"),o.track(u,a)}}}(t),o=i.getTreatment,s=i.getTreatmentWithConfig,a=i.getTreatments,c=i.getTreatmentsWithConfig,u=i.track;function l(e,n,r,i){var o,s,a=e,c=Ea(i,"getTreatments")?kc(n,i):wc(n,i),u=(s=i,Ra(o=r)||null==o?o:(oc.error("".concat(s,": attributes must be a plain object.")),!1)),l=zc(t);return Wc(t,i),{valid:l&&a&&c&&!1!==u,key:a,splitOrSplits:c,attributes:u}}return i.getTreatment=function(t,e,n){var i=l(t,e,n,"getTreatment");return i.valid?o(i.key,i.splitOrSplits,i.attributes):r?Rc:Promise.resolve(Rc)},i.getTreatmentWithConfig=function(t,e,n){var i=l(t,e,n,"getTreatmentWithConfig");return i.valid?s(i.key,i.splitOrSplits,i.attributes):r?Sa()({},Dc):Promise.resolve(Sa()({},Dc))},i.getTreatments=function(t,e,n){var i=l(t,e,n,"getTreatments");if(i.valid)return a(i.key,i.splitOrSplits,i.attributes);var o={};return i.splitOrSplits&&i.splitOrSplits.forEach((function(t){return o[t]=Rc})),r?o:Promise.resolve(o)},i.getTreatmentsWithConfig=function(t,e,n){var i=l(t,e,n,"getTreatmentsWithConfig");if(i.valid)return c(i.key,i.splitOrSplits,i.attributes);var o={};return i.splitOrSplits&&i.splitOrSplits.forEach((function(t){return o[t]=Sa()({},Dc)})),r?o:Promise.resolve(o)},i.track=function(e,i,o,s,a){var c=e,l=n?i:Kc(i,"track"),h=cc(o,"track"),f=lc(s,"track"),d=dc(a,"track"),p=d.properties,g=d.size;return zc(t)&&c&&l&&h&&!1!==f&&!1!==p?u(c,l,h,f,p,g):!r&&Promise.resolve(!1)},i}(t,0,o.length>1);return a.isBrowserClient=!0,a.getTreatment=a.getTreatment.bind(a,n.core.key),a.getTreatmentWithConfig=a.getTreatmentWithConfig.bind(a,n.core.key),a.getTreatments=a.getTreatments.bind(a,n.core.key),a.getTreatmentsWithConfig=a.getTreatmentsWithConfig.bind(a,n.core.key),a.track=(e=a.track).bind.apply(e,[a].concat(o)),a},kh=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o,s=!1;function a(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length,i=new Array(r>1?r-1:0),c=1;c<r;c++)i[c-1]=arguments[c];s||(o=setTimeout((function(){t.apply(void 0,i.concat([a]))}),n))}function c(){clearTimeout(o),o=void 0,s=!0}return c.reset=function(){clearTimeout(o),o=void 0,a.apply(void 0,[e].concat(r))},t.apply(void 0,r.concat([a])),c},Ch=function(t,e){return e=e||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},c=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(JSON.parse(i.responseText))},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return s},get:function(t){return a[t.toLowerCase()]},has:function(t){return t.toLowerCase()in a}}}};for(var u in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){o.push(e=e.toLowerCase()),s.push([e,n]),a[e]=a[e]?a[e]+","+n:n})),n(c())},i.onerror=r,i.withCredentials="include"==e.credentials,e.headers)i.setRequestHeader(u,e.headers[u]);i.send(e.body||null)}))};function Ah(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Ih(t,e,n){return(Ih=Ah()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&mu(i,n.prototype),i}).apply(null,arguments)}function Oh(t){var e="function"==typeof Map?new Map:void 0;return(Oh=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Ih(t,arguments,_u(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),mu(n,t)})(t)}function Nh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_u(t);if(e){var i=_u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vu(this,n)}}var xh=function(t){yu(n,t);var e=Nh(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Split Error";return Ha(this,n),(t=e.call(this,r)).message=r,t}return n}(Oh(Error)),Rh=function(t){yu(n,t);var e=Nh(n);function n(t){return Ha(this,n),e.call(this,t||"Split Timeout Error")}return n}(xh),Dh=function(t){yu(n,t);var e=Nh(n);function n(t,r){var i;return Ha(this,n),(i=e.call(this,t||"Split Network Error")).statusCode=r,i}return n}(xh),Mh=ec("splitio-services:service");function Ph(t){var e=t.url;return(window&&window.fetch||Ch)(e,t).then((function(t){if(!t.ok)throw{response:t};return t})).catch((function(n){var r=n.response,i="";if(r)switch(r.status){case 404:i="Invalid API key or resource not found.";break;default:i=r.statusText}else i=n.message;throw r&&403===r.status||Mh[t.logErrorsAsInfo?"info":"error"]("Response status is not OK. Status: ".concat(r?r.status:"NO_STATUS",". URL: ").concat(e,". Message: ").concat(i)),new Dh(i,r&&r.status)}))}var Fh=Ph,Lh=function(t,e,n){var r=t.version,i=t.runtime,o=i.ip,s=i.hostname,a={Accept:"application/json","Content-Type":"application/json"};return a.Authorization="Bearer ".concat(t.core.authorizationKey),a.SplitSDKVersion=r,o&&(a.SplitSDKMachineIP=o),s&&(a.SplitSDKMachineName=s),Sa()({headers:a,url:t.url(e)},{},n)};function jh(t){var e=[];return La(t.toJSON(),(function(t,n){e.push({name:n,delta:t})})),e}var Hh=Ph;function Uh(t,e){return Lh(t,"/testImpressions/bulk",Sa()({method:"POST"},e))}function Kh(t,e){var n=e.core.labelsEnabled,r=function(t,e){var n={};if(Array.isArray(t)&&Ia(e))for(var r=0;r<t.length;r++){var i=t[r][e];Ia(i)&&(n[i]||(n[i]=[]),n[i].push(t[r]))}return n}(t.state(),"feature"),i=[];return La(r,(function(t,e){i.push({testName:e,keyImpressions:t.map((function(t){var e={keyName:t.keyName,treatment:t.treatment,time:t.time,changeNumber:t.changeNumber};return n&&(e.label=t.label),t.bucketingKey&&(e.bucketingKey=t.bucketingKey),e}))})})),i}function Gh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_u(t);if(e){var i=_u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vu(this,n)}}var Vh=function(){function t(e){Ha(this,t),this.storage=e,this.latency=this.latency.bind(this),this.count=this.count.bind(this),this.countException=this.countException.bind(this)}return Ka(t,[{key:"latency",value:function(t){this.storage.metrics.track("".concat(this.metricType,".time"),t)}},{key:"count",value:function(t){this.storage.count.track("".concat(this.metricType,".status.").concat(t))}},{key:"countException",value:function(){this.storage.count.track("".concat(this.metricType,".exception"))}}]),t}(),Bh=function(t){yu(n,t);var e=Gh(n);function n(t){var r;return Ha(this,n),(r=e.call(this,t)).metricType="segmentChangeFetcher",r}return n}(Vh),zh=function(t){yu(n,t);var e=Gh(n);function n(t){var r;return Ha(this,n),(r=e.call(this,t)).metricType="splitChangeFetcher",r}return n}(Vh),Wh=function(t){yu(n,t);var e=Gh(n);function n(t){var r;return Ha(this,n),(r=e.call(this,t)).metricType="mySegmentsFetcher",r}return n}(Vh),qh=function(){function t(e){Ha(this,t),this.storage=e,this.ready=this.ready.bind(this),this.getTreatment=this.getTreatment.bind(this),this.getTreatments=this.getTreatments.bind(this),this.getTreatmentWithConfig=this.getTreatmentWithConfig.bind(this),this.getTreatmentsWithConfig=this.getTreatmentsWithConfig.bind(this)}return Ka(t,[{key:"ready",value:function(t){this.storage.metrics.track("sdk.ready",t)}},{key:"getTreatment",value:function(t){this.storage.metrics.track("sdk.getTreatment",t)}},{key:"getTreatments",value:function(t){this.storage.metrics.track("sdk.getTreatments",t)}},{key:"getTreatmentWithConfig",value:function(t){this.storage.metrics.track("sdk.getTreatmentWithConfig",t)}},{key:"getTreatmentsWithConfig",value:function(t){this.storage.metrics.track("sdk.getTreatmentsWithConfig",t)}}]),t}(),$h=ec("splitio-metrics"),Yh=Ph;function Zh(t,e){return Lh(t,"/events/bulk",Sa()({method:"POST"},e))}var Qh=ec("splitio-events"),Jh=Ph;function Xh(t){return"users="+encodeURIComponent(t)}function tf(){return window&&"function"==typeof window.EventSource?window.EventSource:void 0}var ef=function(){function t(e,n,r){Ha(this,t),this.baseMillis=n||t.DEFAULT_BASE_MILLIS,this.maxMillis=r||t.DEFAULT_MAX_MILLIS,this.attempts=0,this.cb=e}return Ka(t,[{key:"scheduleCall",value:function(){var t=this,e=Math.min(this.baseMillis*Math.pow(2,this.attempts),this.maxMillis);return this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){t.cb()}),e),this.attempts++,e}},{key:"reset",value:function(){this.attempts=0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=0)}}]),t}();ef.DEFAULT_BASE_MILLIS=1e3,ef.DEFAULT_MAX_MILLIS=18e5;var nf=ef,rf=function(){function t(e,n){Ha(this,t),this.mySegmentsStorage=e,this.mySegmentsProducer=n,this.maxChangeNumber=0,this.segmentList=void 0,this.currentChangeNumber=-1,this.put=this.put.bind(this),this.__handleMySegmentUpdateCall=this.__handleMySegmentUpdateCall.bind(this),this.backoff=new nf(this.__handleMySegmentUpdateCall)}return Ka(t,[{key:"__handleMySegmentUpdateCall",value:function(){var t=this;if(this.maxChangeNumber>this.currentChangeNumber){this.handleNewEvent=!1;var e=this.maxChangeNumber;this.mySegmentsProducer.synchronizeMySegments(this.segmentList).then((function(n){!1!==n&&(t.currentChangeNumber=Math.max(t.currentChangeNumber,e)),t.handleNewEvent?t.__handleMySegmentUpdateCall():t.backoff.scheduleCall()}))}}},{key:"put",value:function(t,e){t<=this.currentChangeNumber||t<=this.maxChangeNumber||(this.maxChangeNumber=t,this.handleNewEvent=!0,this.backoff.reset(),this.segmentList=e,this.mySegmentsProducer.isSynchronizingMySegments()||this.__handleMySegmentUpdateCall())}}]),t}(),of=function(){function t(e,n,r){Ha(this,t),this.splitStorage=e,this.splitProducer=n,this.maxChangeNumber=0,this.splitsEventEmitter=r,this.put=this.put.bind(this),this.killSplit=this.killSplit.bind(this),this.__handleSplitUpdateCall=this.__handleSplitUpdateCall.bind(this),this.backoff=new nf(this.__handleSplitUpdateCall)}return Ka(t,[{key:"__handleSplitUpdateCall",value:function(){var t=this;this.maxChangeNumber>this.splitStorage.getChangeNumber()&&(this.handleNewEvent=!1,this.splitProducer.synchronizeSplits().then((function(){t.handleNewEvent?t.__handleSplitUpdateCall():t.backoff.scheduleCall()})))}},{key:"put",value:function(t){t<=this.splitStorage.getChangeNumber()||t<=this.maxChangeNumber||(this.maxChangeNumber=t,this.handleNewEvent=!0,this.backoff.reset(),this.splitProducer.isSynchronizingSplits()||this.__handleSplitUpdateCall())}},{key:"killSplit",value:function(t,e,n){var r=this;this.splitStorage.killLocally(e,n,t).then((function(e){e&&r.splitsEventEmitter.emit(r.splitsEventEmitter.SDK_SPLITS_ARRIVED,!0),r.put(t)}))}}]),t}(),sf=/^control_/,af=function(){function t(e,n){Ha(this,t),this.EventSource=e,this.streamingUrl=n.url("/sse"),this.reopen=this.reopen.bind(this)}return Ka(t,null,[{key:"getInstance",value:function(e){var n=tf();if(n)return new t(n,e)}}]),Ka(t,[{key:"setEventHandler",value:function(t){this.handler=t}},{key:"open",value:function(t){this.close(),this.authToken=t;var e=Object.keys(t.channels).map((function(t){var e=sf.test(t)?"[?occupancy=metrics.publishers]":"";return encodeURIComponent(e+t)})).join(","),n="".concat(this.streamingUrl,"?channels=").concat(e,"&accessToken=").concat(t.token,"&v=").concat("1.1","&heartbeats=true");this.connection=new this.EventSource(n),this.handler&&(this.connection.onopen=this.handler.handleOpen,this.connection.onmessage=this.handler.handleMessage,this.connection.onerror=this.handler.handleError)}},{key:"close",value:function(){this.connection&&this.connection.close()}},{key:"reopen",value:function(){this.open(this.authToken)}}]),t}(),cf="PUSH_CONNECT",uf="PUSH_DISABLED",lf="PUSH_DISCONNECT",hf="SSE_ERROR",ff="MY_SEGMENTS_UPDATE",df="SEGMENT_UPDATE",pf="SPLIT_KILL",gf="SPLIT_UPDATE",mf="CONTROL",yf="OCCUPANCY",vf="STREAMING_RESUMED",_f=/control_pri$/,bf=ec("splitio-sync:sse-handler");function Sf(t){return e=th.hash(t,0).toString(),btoa(e);var e}var wf=ec("splitio-sync:push-manager");function Tf(t,e){if(n=wf,tf()?"function"==typeof atob&&"function"==typeof btoa||(n.warn('"atob" and "btoa" functions for Base64 encoding are not available. Falling back to polling mode.'),0):(n.warn("EventSource API is not available. Falling back to polling mode."),0)){var n,r=new ku.a,i=t.get(t.constants.READINESS).splits,o=t.get(t.constants.SETTINGS),s=t.get(t.constants.STORAGE),a=af.getInstance(o),c=function(t){var e,n,r,i,o,s=(e=t,n=-1,r=!0,i=-1,o=!0,{handleOpen:function(){e.emit(cf)},isStreamingUp:function(){return o&&r},handleOccupancyEvent:function(t,i,s){_f.test(i)&&s>n&&(n=s,o&&(0===t&&r?e.emit(lf):0===t||r||e.emit(cf)),r=0!==t)},handleControlEvent:function(t,n,s){_f.test(n)&&s>i&&(i=s,"STREAMING_DISABLED"===t?e.emit(uf):r&&("STREAMING_PAUSED"===t&&o?e.emit(lf):t!==vf||o||e.emit(cf)),o=t===vf)}});return{handleOpen:function(){s.handleOpen()},handleError:function(e){var n=e;try{n=function(t){return Ia(t.data)&&(t.parsedData=JSON.parse(t.data)),t}(e)}catch(r){bf.warn("Error parsing SSE error notification: ".concat(r))}t.emit(hf,n)},handleMessage:function(e){var n;try{n=function(t){var e=JSON.parse(t.data);return e.parsedData=JSON.parse(e.data),e.name&&"[meta]occupancy"===e.name&&(e.parsedData.type=yf),e}(e)}catch(a){return void bf.warn("Error parsing new SSE message notification: ".concat(a))}var r=n.parsedData,i=n.channel,o=n.timestamp;if(bf.debug("New SSE message received, with data: ".concat(n.data,".")),s.isStreamingUp()||r.type===yf||r.type===mf)switch(r.type){case gf:t.emit(gf,r.changeNumber);break;case df:t.emit(df,r.changeNumber,r.segmentName);break;case ff:t.emit(ff,r,i);break;case pf:t.emit(pf,r.changeNumber,r.splitName,r.defaultTreatment);break;case yf:s.handleOccupancyEvent(r.metrics.publishers,i,o);break;case mf:s.handleControlEvent(r.controlType,i,o)}}}}(r);a.setEventHandler(c);var u,l={},h=[],f=!1,d=new nf(_,o.scheduler.authRetryBackoffBase),p=new nf(a.reopen,o.scheduler.streamingReconnectBackoffBase),g=0;r.on(lf,S),r.on(uf,(function(){b(),r.emit(lf)})),r.on(hf,(function(t){var e;a.close(),e=!t.parsedData||400!==t.parsedData.statusCode&&401!==t.parsedData.statusCode?p.scheduleCall():d.scheduleCall();var n=t.parsedData&&t.parsedData.message;wf.error("Fail to connect to streaming".concat(n?', with error message: "'.concat(n,'"'):"",". Attempting to reconnect in ").concat(e/1e3," seconds.")),r.emit(lf)}));var m=t.get(t.constants.PRODUCER),y=new of(s.splits,m,i);if(h.push(y),r.on(pf,y.killSplit),r.on(gf,y.put),e)r.on(ff,(function(n,r){var i=r.split("_")[2],o=l[i];if(o&&e[o]){var s=e[o].get(t.constants.MY_SEGMENTS_CHANGE_WORKER,!0);s&&s.put(n.changeNumber,n.includesPayload?n.segmentList?n.segmentList:[]:void 0)}}));else{var v=new rf(s.segments,m);h.push(v),r.on(df,v.put)}return Sa()(Object.create(r),{stop:function(){b(),S()},start:_,startNewClient:function(t,e){var n=Sf(t),r=e.get(e.constants.STORAGE),i=e.get(e.constants.PRODUCER);l[n]||(l[n]=t,f=!0);var o=new rf(r.segments,i);h.push(o),e.put(e.constants.MY_SEGMENTS_CHANGE_WORKER,o),setTimeout((function(){f&&(f=!1,_())}),0)},removeClient:function(t){var e=Sf(t);delete l[e]}})}function _(){u=!1,wf.info("Connecting to push streaming.");var t=e?Object.keys(e):void 0;(function(t,e){return Jh(function(t,e){var n="/auth";if(e){var r=e.map(Xh).join("&");r&&(n+="?"+r)}return Lh(t,n)}(t,e)).then((function(t){return t.json()})).then((function(t){if(t.token){var e=(i=t.token.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent((r=i,atob(r)).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join("")),JSON.parse(o));if("number"!=typeof e.iat||"number"!=typeof e.exp)throw'token properties "issuedAt" (iat) or "expiration" (exp) are missing or invalid';var n=JSON.parse(e["x-ably-capability"]);return Sa()({decodedToken:e,channels:n},t)}var r,i,o;return t}))})(o,t).then((function(n){if(!u){if(d.reset(),p.reset(),!n.pushEnabled)return wf.info("Streaming is not available. Switching to polling mode."),void r.emit(lf);if(!(t&&t.length<Object.keys(e).length)){var i=n.decodedToken;a.open(n),function(t,e){g&&clearTimeout(g);var n=e-t-600;wf.info("Refreshing streaming token in ".concat(n," seconds.")),g=setTimeout(_,1e3*n)}(i.iat,i.exp)}}})).catch((function(t){if(!u){a.close(),r.emit(lf);var e='Failed to authenticate for streaming. Error: "'.concat(t.message,'".');if(t.statusCode>=400&&t.statusCode<500)wf.error(e);else{var n=d.scheduleCall();wf.error("".concat(e,". Attempting to reauthenticate in ").concat(n/1e3," seconds."))}}}))}function b(){u=!0,wf.info("Disconnecting from push streaming."),a.close(),g&&clearTimeout(g),d.reset(),p.reset()}function S(){h.forEach((function(t){return t.backoff.reset()}))}}var Ef=ec("splitio-producer:task"),kf=function(t,e){var n,r=(n=t).name?n.name:(n.toString().match(/function (.+?)\(/)||["",""])[1],i=!1;return{start:function(){i||(Ef.debug("Starting ".concat(r," refreshing each ").concat(e)),i=kh((function(e){Ef.debug("Running ".concat(r)),t().then((function(){return e()}))}),e))},stop:function(){Ef.debug("Stopping ".concat(r)),i&&i(),i=!1},isRunning:function(){return!!i}}},Cf=function(t,e){return t<1?e:new Promise((function(n,r){var i=setTimeout((function(){r(new Rh("Operation timed out because it exceeded the configured time limit of ".concat(t,"ms.")))}),t);e.then((function(t){clearTimeout(i),n(t)}),(function(t){clearTimeout(i),r(t)}))}))},Af=Ph;function If(t,e,n){return Lh(t,"/splitChanges?since=".concat(e).concat(n||""))}var Of=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=t.sync.__splitFiltersValidation.queryString,s=Af(If(t,e,o)),a=n||i;return s=ol.start(ol.TaskNames.SPLITS_FETCH,!!a&&r,s),n&&(s=Cf(t.startup.requestTimeoutBeforeReady,s)),s.then((function(t){return t.json().catch((function(t){throw new xh(t.message)}))}))},Nf=ec("splitio-producer:split-changes");function xf(t){var e=t.reduce((function(t,e){return"ACTIVE"===e.status?(t.added.push([e.name,JSON.stringify(e)]),(n=e.conditions,r=new ll,n.forEach((function(t){t.matcherGroup.matchers.forEach((function(t){"IN_SEGMENT"===t.matcherType&&r.add(t.userDefinedSegmentMatcherData.segmentName)}))})),r).forEach((function(e){t.segments.add(e)}))):t.removed.push(e.name),t;var n,r}),{added:[],removed:[],segments:new ll});return e.segments=ul(e.segments),e}var Rf=Ph;function Df(t){return Lh(t,"/mySegments/".concat(Su(t.core.key)))}var Mf=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=Rf(Df(t));return r=ol.start(ol.TaskNames.MY_SEGMENTS_FETCH,!!e&&n,r),e&&(r=Cf(t.startup.requestTimeoutBeforeReady,r)),r.then((function(t){return t.json().catch((function(t){throw new xh(t.message)}))})).then((function(t){return t.mySegments.map((function(t){return t.name}))}))},Pf=ec("splitio-producer:my-segments"),Ff=ec("splitio-producer:mySegmentsHandler"),Lf=function(t){var e=t.get(t.constants.SETTINGS),n=t.get(t.constants.STORAGE).splits,r=t.get(t.constants.READINESS),i=r.splits,o=r.segments,s=function(t){var e=t.getAll(),n=e[t.constants.SETTINGS],r=e[t.constants.STORAGE],i=e[t.constants.COLLECTORS],o=e[t.constants.READINESS].segments,s=!0,a=!0;function c(t){var e=r.segments.resetSegments(t);r.splits.usesSegments()&&(e||s)&&(s=!1,o.emit(o.SDK_SEGMENTS_ARRIVED))}return function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;return(r?new Promise((function(t){c(r),t()})):Mf(n,a,i).then((function(t){a=!1,c(t)}))).catch((function(r){return r instanceof xh||setTimeout((function(){throw r}),0),a&&n.startup.retriesOnFailureBeforeReady>e?(Pf.warn("Retrying download of segments #".concat(e+=1,". Reason: ").concat(r)),t(e)):(a=!1,!1)}))}}(t),a=kf(u,e.scheduler.segmentsRefreshRate);i.on(i.SDK_SPLITS_ARRIVED,(function(){if(l){var t=n.usesSegments();t!==a.isRunning()&&(Ff.info("Turning segments data polling ".concat(t?"ON":"OFF",".")),t?a.start():a.stop())}})),n.usesSegments()?i.once(i.SDK_SPLITS_ARRIVED,h):setTimeout(h,0);var c=!1;function u(t){return c=!0,s(0,t).then((function(t){return c=!1,t}))}var l=!1;function h(){t.get(t.constants.READY,!0)||n.usesSegments()||o.emit(o.SDK_SEGMENTS_ARRIVED)}return{start:function(){l=!0,n.usesSegments()&&a.start()},stop:function(){l=!1,a.stop()},isRunning:function(){return l},isSynchronizingMySegments:function(){return c},synchronizeMySegments:u}},jf=ec("splitio-producer:updater"),Hf=ec("splitio-sync:sync-manager"),Uf=ec("splitio-client:cleanup"),Kf="unload",Gf=function(){function t(e){Ha(this,t),this.storage=e.get(e.constants.STORAGE),this.settings=e.get(e.constants.SETTINGS),this.flushData=this.flushData.bind(this)}return Ka(t,[{key:"start",value:function(){window&&window.addEventListener&&(Uf.debug("Registering flush handler when unload page event is triggered."),window.addEventListener(Kf,this.flushData))}},{key:"stop",value:function(){window&&window.removeEventListener&&(Uf.debug("Deregistering flush handler when unload page event is triggered."),window.removeEventListener(Kf,this.flushData))}},{key:"flushData",value:function(){this._flushImpressions(),this._flushEvents()}},{key:"_flushImpressions",value:function(){var t=this.storage.impressions;if(!t.isEmpty()){var e=this.settings.url("/testImpressions/beacon"),n=Kh(t,this.settings);this._sendBeacon(e,n)||Hh(Uh(this.settings,{body:JSON.stringify(n)})),t.clear()}}},{key:"_flushEvents",value:function(){var t=this.storage.events;if(!t.isEmpty()){var e=this.settings.url("/events/beacon"),n=t.toJSON();this._sendBeacon(e,n)||Yh(Zh(this.settings,{body:JSON.stringify(n)})),t.clear()}}},{key:"_sendBeacon",value:function(t,e){if(navigator&&navigator.sendBeacon){var n=JSON.stringify({entries:e,token:this.settings.core.authorizationKey,sdk:this.settings.version});return navigator.sendBeacon(t,n)}return!1}}]),t}(),Vf={},Bf=function(t,e,n){var r,i=!!n,o=t.get(t.constants.SETTINGS),s=t.get(t.constants.READINESS),a=t.get(t.constants.STORAGE),c=t.get(t.constants.STATUS_MANAGER),u=s.gate,l=s.splits,h=s.segments,f=u.SDK_READY,d=i?void 0:function(t){var e=0,n=t.get(t.constants.SETTINGS),r=t.get(t.constants.STORAGE),i=function(){if(r.impressions.isEmpty())return Promise.resolve();var t=r.impressions.queue.length;$h.info("Pushing ".concat(t," impressions"));var i=ol.start(ol.TaskNames.IMPRESSIONS_PUSH);return Hh(Uh(n,{body:JSON.stringify(Kh(r.impressions,n))})).then((function(){e=0,r.impressions.clear()})).catch((function(n){e?($h.warn("Droping ".concat(t," impressions after retry. Reason ").concat(n,".")),e=0,r.impressions.clear()):(e++,$h.warn("Failed to push ".concat(t," impressions, keeping data to retry on next iteration. Reason ").concat(n,".")))})).then((function(){return i()}))},o=!1,s=!1;return{start:function(){o=kh((function(t){return i().then((function(){return t()}))}),n.scheduler.impressionsRefreshRate),s=kh((function(t){return function(){if(r.metrics.isEmpty()&&r.count.isEmpty())return Promise.resolve();$h.info("Pushing metrics");var t,e,i=ol.start(ol.TaskNames.METRICS_PUSH),o=r.metrics.isEmpty()?null:Fh(function(t,e){return Lh(t,"/metrics/times",Sa()({method:"POST"},e,{logErrorsAsInfo:!0}))}(n,{body:JSON.stringify((t=r.metrics,e=[],La(t.toJSON(),(function(t,n){e.push({name:n,latencies:t})})),e))})).then((function(){return r.metrics.clear()})).catch((function(){return r.metrics.clear()})),s=r.count.isEmpty()?null:Fh(function(t,e){return Lh(t,"/metrics/counters",Sa()({method:"POST"},e,{logErrorsAsInfo:!0}))}(n,{body:JSON.stringify(jh(r.count))})).then((function(){return r.count.clear()})).catch((function(){return r.count.clear()}));return Promise.all([o,s]).then((function(t){return i(),t}))}().then((function(){return t()}))}),n.scheduler.metricsRefreshRate)},flush:function(){return i()},stop:function(){o&&o(),s&&s()},collectors:{segmentChanges:new Bh(r),splitChanges:new zh(r),mySegments:new Wh(r),client:new qh(r)}}}(t),p=i?void 0:function(t){var e=t.get(t.constants.SETTINGS),n=t.get(t.constants.STORAGE),r=function(){if(n.events.isEmpty())return Promise.resolve();Qh.info("Pushing ".concat(n.events.state().length," queued events."));var t=ol.start(ol.TaskNames.EVENTS_PUSH),r=JSON.stringify(n.events.toJSON()),i=function(){return t()};return n.events.clear(),Yh(Zh(e,{body:r})).then(i).catch(i)},i=!1,o=!1,s=function(){return o=kh((function(t){return r().then((function(){return t()}))}),e.scheduler.eventsPushRate)};return{start:function(){e.startup.eventsFirstPushWindow>0?i=setTimeout(s,e.startup.eventsFirstPushWindow):s()},flush:function(){return r()},stop:function(){i&&clearTimeout(i),o&&o()},flushAndResetTimer:function(){return Qh.info("Flushing events and reseting timer."),o&&o.reset(),r()}}}(t),g=i?void 0:new Gf(t);switch(o.mode){case Ic:case Ac:t.put(t.constants.COLLECTORS,d&&d.collectors),i?r=Vf[o.core.authorizationKey].shared(t):(r=function(t){var e={},n=t.get(t.constants.SETTINGS),r=u(!1,t),i=n.streamingEnabled?Tf(t,e):void 0,o=t.get(t.constants.PRODUCER);function s(){o.isRunning()?Hf.info("Streaming couldn't connect. Continue periodic fetch of data."):(Hf.info("Streaming not available. Starting periodic fetch of data."),La(e,(function(t){t.get(t.constants.PRODUCER).start()})))}function a(){o.isRunning()&&(Hf.info("PUSH (re)connected. Syncing and stopping periodic fetch of data."),La(e,(function(t){t.get(t.constants.PRODUCER).stop()}))),c()}function c(){t.get(t.constants.PRODUCER).synchronizeSplits(),La(e,(function(t){t.get(t.constants.PRODUCER).synchronizeMySegments()}))}function u(t,n){var r=t?Lf(n):function(t){var e=t.get(t.constants.SETTINGS),n=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.getAll(),r=n[t.constants.SETTINGS],i=n[t.constants.STORAGE],o=n[t.constants.COLLECTORS],s=n[t.constants.READINESS].splits,a=!0,c=!0;return function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;function u(u){Nf.debug("Spin up split update using since = ".concat(u));var l=Of(r,u,a,o,e).then((function(t){a=!1;var e=xf(t.splits);return Nf.debug("New splits ".concat(e.added.length)),Nf.debug("Removed splits ".concat(e.removed.length)),Nf.debug("Segment names collected ".concat(e.segments)),Promise.all([i.splits.setChangeNumber(t.till),i.splits.addSplits(e.added),i.splits.removeSplits(e.removed),i.segments.registerSegments(e.segments)]).then((function(){(u!==t.till||c)&&(c=!1,s.emit(s.SDK_SPLITS_ARRIVED))}))})).catch((function(e){return e instanceof xh||(setTimeout((function(){throw e}),0),a=!1),Nf.warn("Error while doing fetch of Splits. ".concat(e)),a&&r.startup.retriesOnFailureBeforeReady>n?(Nf.info("Retrying download of splits #".concat(n+=1,". Reason: ").concat(e)),t(n)):(a=!1,!1)}));return a&&i.splits.checkCache()&&s.emit(s.SDK_SPLITS_CACHE_LOADED),l}var l=i.splits.getChangeNumber();return(wa(l)?l.then(u):Promise.resolve(l)).then(u)}}(t),r=kf(s,e.scheduler.featuresRefreshRate),i=Lf(t),o=!1;function s(){return o=!0,n().then((function(t){return o=!1,t}))}return{start:function(){jf.info("Starting BROWSER producer"),r.start(),i.start()},stop:function(){jf.info("Stopping BROWSER producer"),r.stop(),i.stop()},isRunning:r.isRunning,isSynchronizingSplits:function(){return o},synchronizeSplits:s,isSynchronizingMySegments:i.isSynchronizingMySegments,synchronizeMySegments:i.synchronizeMySegments}}(n),u=n.get(n.constants.SETTINGS),l=Pa(Su(u.core.key));return n.put(n.constants.PRODUCER,r),e[l]&&Hf.warn("A client with the same user key has already been created. Only the new instance will be properly synchronized."),e[l]=n,{start:function(){i?(t?o.isRunning()?r.start():r.synchronizeMySegments():(c(),i.on(cf,a),i.on(lf,s)),i.startNewClient(l,n)):r.start()},stop:function(){e[l]&&(delete e[l],i&&(i.removeClient(l),t||i.stop()),r.isRunning()&&r.stop())}}}return r.shared=u.bind(null,!0),r}(t),Vf[o.core.authorizationKey]=r);break;case Oc:t.put(t.constants.READY_FROM_CACHE,!0)}if(e&&r&&!i){var m=e.sdkReadyTracker,y=e.splitsReadyTracker,v=e.segmentsReadyTracker;m.setCollectorForTask(d.collectors),u.once(f,m),l.once(l.SDK_SPLITS_ARRIVED,y),h.once(h.SDK_SEGMENTS_ARRIVED,v)}r&&r.start(),d&&d.start(),p&&t.put(t.constants.EVENTS,p)&&p.start(),t.put(t.constants.COLLECTORS,n);var _=Sa()(Object.create(c),Eh(t),{destroy:function(){return r&&r.stop(),d&&d.stop(),p&&p.stop(),Promise.all([d&&d.flush(),p&&p.flush()]).then((function(){s.destroy(),g&&g.stop(),a.destroy&&a.destroy(),t.put(t.constants.DESTROYED,!0),i||(ic(o.core.authorizationKey),delete Vf[o.core.authorizationKey])}))}});return!i&&g.start(_.destroy),{api:_,metricCollectors:d&&d.collectors}};function zf(t){var e=t.treatment;return t.keys?{conditionType:"WHITELIST",matcherGroup:{combiner:"AND",matchers:[{keySelector:null,matcherType:"WHITELIST",negate:!1,whitelistMatcherData:{whitelist:Ia(t.keys)?[t.keys]:t.keys}}]},partitions:[{treatment:e,size:100}],label:"whitelisted ".concat(e)}:{conditionType:"ROLLOUT",matcherGroup:{combiner:"AND",matchers:[{keySelector:null,matcherType:"ALL_KEYS",negate:!1}]},partitions:[{treatment:e,size:100}],label:"default rule"}}var Wf={emptyMock:1},qf=ec("splitio-producer:offline"),$f=(function(t,e){var n=e.getAll(),r=n[e.constants.SETTINGS],i=n[e.constants.READINESS],o=n[e.constants.STORAGE];return function(){var e=[],n=null,s={};try{s=t(r)}catch(a){n=a,qf.error("There was an issue loading the mock Splits data, no changes will be applied to the current cache. ".concat(a))}return!n&&s?(qf.debug("Splits data: "),qf.debug(JSON.stringify(s)),La(s,(function(t,n){e.push([n,JSON.stringify({name:n,status:"ACTIVE",killed:!1,trafficAllocation:100,defaultTreatment:"control",conditions:t.conditions||[],configurations:t.configurations,trafficTypeName:t.trafficTypeName})])})),Promise.all([o.splits.flush(),o.splits.addSplits(e)]).then((function(){i.splits.emit(i.splits.SDK_SPLITS_ARRIVED),i.segments.emit(i.segments.SDK_SEGMENTS_ARRIVED)}))):Promise.resolve()}}).bind(null,(function(t){var e,n,r=t.features||{};if(e=r,!((n=Object.keys(e)).length!==Object.keys(Wf).length?(Wf=e,1):n.some((function(t){var n,r,i=!Wf[t],o=(r=e[t],Ta(n=Wf[t])!==Ta(r)||("string"==typeof n?n!==r:n.treatment!==r.treatment||n.config!==r.config)),s=i||o;return s&&(Wf=e),s}))))return!1;var i={};return La(r,(function(t,e){var n=t,r=null;Ra(t)&&(n=t.treatment,r=t.config||r);var o={};null!==r&&(o[n]=r),i[e]={conditions:[zf({treatment:n})],configurations:o}})),i})),Yf=function(t,e){var n=!e,r=t.get(t.constants.READINESS),i=t.get(t.constants.STORAGE),o=t.get(t.constants.STATUS_MANAGER);n&&setTimeout((function(){r.gate.emit(r.gate.SDK_READY)}),0);var s=n?void 0:function(t){var e=t.get(t.constants.SETTINGS),n=$f(t);return kf(n,e.scheduler.offlineRefreshRate)}(t);return s&&s.start(),{api:Sa()(Object.create(o),Eh(t),{destroy:function(){return s&&s.stop(),r.destroy(),i.destroy&&i.destroy(),t.put(t.constants.DESTROYED,!0),!n&&ic(),Promise.resolve()}}),metricCollectors:!1}};function Zf(t,e){var n=!1,r=!1,i=function t(i){var o=new Promise((function(t,n){return i.then(t,(function(t){r?n(t):e(t)}))})),s=o.then;return o.then=function(e,i){var a=s.call(o,e,i);return"function"==typeof e&&(n=!0),"function"==typeof i?(r=!0,a):t(a)},o}(t);return i.hasOnFulfilled=function(){return n},i}var Qf=ec(""),Jf="newListener",Xf="removeListener";function td(t){Qf.error(t)}function ed(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t.get(t.constants.READINESS).gate,r=0,i=!1,o=!1,s=n.SDK_READY,a=n.SDK_READY_FROM_CACHE,c=n.SDK_UPDATE,u=n.SDK_READY_TIMED_OUT;n.on(Xf,(function(t){t===s&&r--})),n.on(Jf,(function(t){t!==s&&t!==u||(i?Qf.error("A listener was added for ".concat(t===s?"SDK_READY":"SDK_READY_TIMED_OUT"," on the SDK, which has already fired and won't be emitted again. The callback won't be executed.")):t===s&&r++)}));var l=h();function h(){var a=Zf(new Promise((function(c,l){n.once(s,(function(){r!==e||a.hasOnFulfilled()||Qf.warn("No listeners for SDK Readiness detected. Incorrect control treatments could have been logged if you called getTreatment/s while the SDK was not yet ready."),t.put(t.constants.READY,!0),i=!0,c()})),n.once(u,(function(e){t.put(t.constants.HAS_TIMEDOUT,!0),o=!0,l(e)}))})),td);return a}return n.once(a,(function(){Qf.info("Split SDK is ready from cache."),t.put(t.constants.READY_FROM_CACHE,!0)})),Sa()(Object.create(n),{Event:{SDK_READY:s,SDK_READY_FROM_CACHE:a,SDK_UPDATE:c,SDK_READY_TIMED_OUT:u},ready:function(){return o?i?Promise.resolve():Zf(Promise.reject("Split SDK has emitted SDK_READY_TIMED_OUT event."),td):l},__context:t})}var nd,rd=ec("splitio-ga-to-split"),id=(nd={eventTypeId:{event:"eventAction",social:"socialAction"},eventValue:{event:"eventValue",timing:"timingValue"},eventProperties:{pageview:["page"],screenview:["screenName"],event:["eventCategory","eventLabel"],social:["socialNetwork","socialTarget"],timing:["timingCategory","timingVar","timingLabel"],exception:["exDescription","exFatal"]}},function(t){var e=t.get("hitType"),n=t.get(nd.eventTypeId[e]||"hitType"),r=t.get(nd.eventValue[e]),i={},o=nd.eventProperties[e];if(o)for(var s=0;s<o.length;s++)i[o[s]]=t.get(o[s]);return{eventTypeId:n,value:r,properties:i,timestamp:Date.now()}}),od=/^[^a-zA-Z0-9]+/,sd=/[^-_.:a-zA-Z0-9]+/g,ad=ec("splitio-split-to-ga"),cd=function(){function t(e){if(Ha(this,t),"function"!=typeof t.getGa())return ad.warn("`ga` command queue not found. No hits will be sent."),{};this.trackerNames=t.defaultTrackerNames,e&&("function"==typeof e.filter&&(this.filter=e.filter),"function"==typeof e.mapper&&(this.mapper=e.mapper),Array.isArray(e.trackerNames)&&(this.trackerNames=Ma(e.trackerNames)),this.impressions=e.impressions,this.events=e.events),ad.info("Started Split-to-GA integration")}return Ka(t,null,[{key:"defaultMapper",value:function(t){var e=t.payload;switch(t.type){case Fc:return{hitType:"event",eventCategory:"split-impression",eventAction:"Evaluate "+e.impression.feature,eventLabel:"Treatment: "+e.impression.treatment+". Targeting rule: "+e.impression.label+".",nonInteraction:!0};case Lc:return{hitType:"event",eventCategory:"split-event",eventAction:e.eventTypeId,eventValue:e.value,nonInteraction:!0}}return null}},{key:"getGa",value:function(){return"undefined"!=typeof window?window[window.GoogleAnalyticsObject||"ga"]:void 0}},{key:"validateFieldsObject",value:function(t){return!(!t||!t.hitType)||(ad.warn("your custom mapper returned an invalid FieldsObject instance. It must be an object with at least a `hitType` field."),!1)}}]),Ka(t,[{key:"queue",value:function(e){var n=t.getGa();if(n){if(!1===this.impressions&&e.type===Fc)return;if(!1===this.events&&e.type===Lc)return;var r;try{if(this.filter&&!this.filter(e))return;if(r=t.defaultMapper(e),this.mapper&&(!(r=this.mapper(e,r))||!t.validateFieldsObject(r)))return}catch(i){return void ad.warn("SplitToGa queue method threw: ".concat(i,". No hit was sent."))}this.trackerNames.forEach((function(t){var e=t?"".concat(t,".send"):"send";r.splitHit=!0,n(e,r)}))}}}]),t}();cd.defaultTrackerNames=[""];var ud=cd,ld=ec("splitio"),hd=function(t,e){return"".concat(t.matchingKey?t.matchingKey:t,"-").concat(t.bucketingKey?t.bucketingKey:t,"-").concat(void 0!==e?e:"")};function fd(t){var e,n,r={},i={splitsReadyTracker:ol.start(ol.TaskNames.SPLITS_READY),segmentsReadyTracker:ol.start(ol.TaskNames.SEGMENTS_READY),sdkReadyTracker:ol.start(ol.TaskNames.SDK_READY)},o=new qu,s=function(t){return Sa()(Object.create(zu),Bu(t))}(t);o.put(o.constants.SETTINGS,s),n=!1,null==(e=s.core.authorizationKey)?nc.error("Factory instantiation: you passed a null or undefined api_key, api_key must be a non-empty string."):Ia(e)?e.length>0?n=e:nc.error("Factory instantiation: you passed an empty api_key, api_key must be a non-empty string."):nc.error("Factory instantiation: you passed an invalid api_key, api_key must be a non-empty string."),n&&(rc[n]?(nc.warn("Factory instantiation: You already have ".concat(rc[n]," ").concat(1===rc[n]?"factory":"factories"," with this API Key. We recommend keeping only one instance of the factory at all times (Singleton pattern) and reusing it throughout your application.")),rc[n]++):(rc[n]=1,Object.keys(rc).length>1&&nc.warn("Factory instantiation: You already have an instance of the Split factory. Make sure you definitely want this additional instance. We recommend keeping only one instance of the factory at all times (Singleton pattern) and reusing it throughout your application.")));var a=function(){var t=0,e=new ku.a;e.SDK_SPLITS_CACHE_LOADED=xu,e.SDK_SPLITS_ARRIVED=Ou;var n=0;function r(e,n){var r=new ku.a,i=0,o=0;return r.on(Du,(function(){14!==o&&t+i===6?(o=14,r.emit(Au)):14===o&&r.emit(Ru)})),e.on(Ou,(function(e){e||(t=2),r.emit(Du)})),e.once(xu,(function(){setTimeout((function(){return r.emit(Iu)}),0)})),n.on(Nu,(function(){i=4,r.emit(Du)})),r}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=0,o=new ku.a;o.SDK_SEGMENTS_ARRIVED=Nu;var s=r(e,o);return t>0&&(i=setTimeout((function(){s.emit(Cu,"Split SDK emitted SDK_READY_TIMED_OUT event.")}),t),s.once(Au,(function(){return clearTimeout(i)}))),s.SDK_READY=Au,s.SDK_READY_FROM_CACHE=Iu,s.SDK_UPDATE=Ru,s.SDK_READY_TIMED_OUT=Cu,n++,{splits:e,segments:o,gate:s,destroy:function(){o.removeAllListeners(),s.removeAllListeners(),clearTimeout(i),n>0&&n--,0===n&&e.removeAllListeners()}}}}(),c=a(s.startup.readyTimeout);o.put(o.constants.READINESS,c);var u=ed(o);o.put(o.constants.STATUS_MANAGER,u);var l=function(t){var e=t.get(t.constants.SETTINGS);switch(e.storage.type){case Nc:var n=new gu(e);return{splits:new Xc,segments:new ru(n),impressions:new au,metrics:new uu,count:new lu,events:new hu(t),shared:function(t){var e=new gu(t);return{splits:this.splits,segments:new ru(e),impressions:this.impressions,metrics:this.metrics,count:this.count,events:this.events,destroy:function(){this.splits=new Xc,this.segments.flush()}}},destroy:function(){this.splits.flush(),this.segments.flush(),this.impressions.clear(),this.metrics.clear(),this.count.clear(),this.events.clear()}};case xc:var r=new Tu(e),i=Date.now()-864e6;return{splits:new nu(r,i,e.sync.__splitFiltersValidation),segments:new ou(r),impressions:new au,metrics:new uu,count:new lu,events:new hu(t),shared:function(t){var e=new Tu(t);return{splits:this.splits,segments:new ou(e),impressions:this.impressions,metrics:this.metrics,count:this.count,events:this.events,destroy:function(){this.splits=new Xc,this.segments=new ru(e)}}},destroy:function(){this.splits=new Xc,this.segments=new ru(new gu(e)),this.impressions.clear(),this.metrics.clear(),this.count.clear(),this.events.clear()}};default:throw new Error("Unsupported storage type")}}(o);o.put(o.constants.STORAGE,l);var h=function(t){var e=t.get(t.constants.SETTINGS),n=[];if(e.integrations.forEach((function(r){var i;switch(r.type){case Mc:i=function(t,e,n){var r,i,o={prefix:"ga",identities:n.key&&n.trafficType?[{key:n.key,trafficType:n.trafficType}]:void 0};r=function n(r,i){Ha(this,n);var s=Sa()({},o,t,i);this.tracker=r;var a,c=(a=s.identities,Array.isArray(a)?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JSON.stringify,n={};return t.filter((function(t){var r=e(t);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)}))}(a).filter((function(t){if(!t)return!1;var e=t.key,n=t.trafficType;return!(!Ia(e)&&!Oa(e)||!Ia(n))})):[]);if(0!==c.length){var u=c.length-s.identities.length;u&&rd.warn("".concat(u," identities were discarded because they are invalid or duplicated. Identities must be an array of objects with key and trafficType.")),s.identities=c,Ia(s.prefix)||(rd.warn("The provided `prefix` was ignored since it is invalid. Please check that you are passing a string object as `prefix`."),s.prefix=void 0);var l=r.get("sendHitTask");r.set("sendHitTask",(function(t){if(l(t),!1!==s.hits&&!t.get("splitHit")){try{if(s.filter&&!s.filter(t))return}catch(r){return void rd.warn("GaToSplit custom filter threw: ".concat(r))}var n=id(t);if(s.mapper){try{n=s.mapper(t,n)}catch(r){return void rd.warn("GaToSplit custom mapper threw: ".concat(r))}if(!n)return}s.prefix&&(n.eventTypeId="".concat(s.prefix,".").concat(n.eventTypeId)),n.eventTypeId=function(t){if(!Ia(t)||0===t.length)return t;var e=t.replace(od,"").replace(sd,"_"),n=e.slice(0,80);return n.length<e.length&&rd.warn("EventTypeId was truncated because it cannot be more than 80 characters long."),n}(n.eventTypeId),function(t){return!(!cc(t.eventTypeId,"splitio-ga-to-split:mapper")||!1===lc(t.value,"splitio-ga-to-split:mapper")||!1===dc(t.properties,"splitio-ga-to-split:mapper").properties||t.timestamp&&!Oa(t.timestamp)||t.key&&!1===mc(t.key,"splitio-ga-to-split:mapper")||t.trafficTypeName&&!1===Kc(t.trafficTypeName,"splitio-ga-to-split:mapper"))}(n)&&(n.key&&n.trafficTypeName?e.events.track(event):s.identities.forEach((function(t){var r=Sa()({key:t.key,trafficTypeName:t.trafficType},n);e.events.track(r)})))}})),rd.info("Started GA-to-Split integration")}else rd.warn("No valid identities were provided. Please check that you are passing a valid list of identities or providing a traffic type at the SDK configuration.")},i=window.GoogleAnalyticsObject||"ga",window[i]=window[i]||function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];(window[i].q=window[i].q||[]).push(e)},window[i]("provide","splitTracker",r)}(r,t.get(t.constants.STORAGE),e.core);break;case Pc:i=new ud(r)}i&&i.queue&&n.push(i)})),0!==n.length)return{handleImpression:function(t){n.forEach((function(e){return e.queue({type:Fc,payload:t})}))},handleEvent:function(t){n.forEach((function(e){return e.queue({type:Lc,payload:t})}))}}}(o);o.put(o.constants.INTEGRATIONS_MANAGER,h);var f=s.mode===Cc?Yf:Bf,d=f(o,i),p=d.api,g=d.metricCollectors,m=function(t,e){var n="split",r=e.get(e.constants.STATUS_MANAGER);return Sa()(Object.create(r),{split:function(r){var i=wc(r,n);if(!zc(e)||!Wc(e,n)||!i)return null;var o=t.getSplit(i);return wa(o)?o.then((function(t){return Tc(e,i,t,n),$c(t)})):(Tc(e,i,o,n),$c(o))},splits:function(){if(!zc(e)||!Wc(e,"splits"))return[];var n=t.getAll();return wa(n)?n.then(Yc):Yc(n)},names:function(){return zc(e)&&Wc(e,"names")?t.getKeys():[]}})}(l.splits,o),y=$u(s.core.key),v=hd(y,s.core.trafficType);return r[v]=p,ld.info("New Split SDK instance created."),{client:function(t,e){if(void 0===t)return ld.debug("Retrieving default SDK client."),p;if("function"!=typeof l.shared)throw"Shared Client not supported by the storage mechanism. Create isolated instances instead.";var n,i=mc(t,"Shared Client instantiation");if(!1===i)throw"Shared Client needs a valid key.";if(void 0!==e&&!1===(n=Kc(e,"Shared Client instantiation")))throw"Shared Client needs a valid traffic type or no traffic type at all.";var c=hd(i,n);if(r[c])ld.debug("Retrieving existing SDK client.");else{var u=s.overrideKeyAndTT(i,n),h=new qu,d=a(u.startup.readyTimeout);h.put(o.constants.READY_FROM_CACHE,o.get(o.constants.READY_FROM_CACHE,!0)),h.put(o.constants.READINESS,d),h.put(o.constants.STATUS_MANAGER,ed(h,-1)),h.put(o.constants.SETTINGS,u),h.put(o.constants.STORAGE,l.shared(u)),r[c]=f(h,!1,g).api,ld.info("New shared client instance created.")}return r[c]},manager:function(){return ld.info("Manager instance retrieved."),m},Logger:tc,settings:s}}const dd=new Pt("SplitConfiguration"),pd=new Pt("SplitSDK"),gd=t=>fd(t),md=new Pt("SplitClient"),yd=t=>t.client(),vd=new Pt("SplitManager"),_d=t=>t.manager();let bd=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:dd,useValue:e},{provide:pd,useFactory:gd,deps:[dd]},{provide:md,useFactory:yd,deps:[pd]},{provide:vd,useFactory:_d,deps:[pd]}]}}}return t.\u0275mod=se({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)}}),t})();function Sd(...t){let e=t[t.length-1];return k(e)?(t.pop(),j(t,e)):z(t)}function wd(t,e){return"function"==typeof e?n=>n.pipe(wd((n,r)=>U(t(n,r)).pipe(P((t,i)=>e(n,t,r,i))))):e=>e.lift(new Td(t))}class Td{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ed(t,this.project))}}class Ed extends M{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new C(this,e,n),o=this.destination;o.add(i),this.innerSubscription=D(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}const kd=wd(t=>{if(!1===t)throw new Error("Split SDK Not ready");return Sd(t)});function Cd(t){return e=>e.lift(new Ad(t,e))}class Ad{constructor(t,e){this.notifier=t,this.source=e}call(t,e){return e.subscribe(new Id(t,this.notifier,this.source))}}class Id extends M{constructor(t,e,n){super(t),this.notifier=e,this.source=n}error(t){if(!this.isStopped){let n=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{n=new T;try{const{notifier:t}=this;r=t(n)}catch(e){return super.error(e)}i=D(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=i,n.next(t)}}_unsubscribe(){const{errors:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null}notifyNext(t,e,n,r,i){const{_unsubscribe:o}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)}}const Od=new ga(fa),Nd=new v(t=>t.complete());function xd(t){return t?function(t){return new v(e=>t.schedule(()=>e.complete()))}(t):Nd}let Rd=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Sd(this.value);case"E":return t=this.error,new v(e=>e.error(t));case"C":return xd()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Dd(t,e=Od){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new Md(r,e))}class Md{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new Pd(t,this.delay,this.scheduler))}}class Pd extends p{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(Pd.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new Fd(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Rd.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Rd.createComplete()),this.unsubscribe()}}class Fd{constructor(t,e){this.time=t,this.notification=e}}const Ld=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function jd(t){return e=>0===t?xd():e.lift(new Hd(t))}class Hd{constructor(t){if(this.total=t,this.total<0)throw new Ld}call(t,e){return e.subscribe(new Ud(t,this.total))}}class Ud extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}const Kd=t=>e=>{if("control"===e)return t;if("on"===e)return!0;if("off"===e)return!1;throw new Error("Treatment is not boolean equivilent. expected on/off received "+e)};class Gd extends T{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new b;return this._value}next(t){super.next(this._value=t)}}class Vd{constructor(t){this.client=t,this.sdkReady=new Gd(!1),this.sdkReady$=this.sdkReady.asObservable(),this.sdkUpdate=new T,this.sdkUpdate$=this.sdkReady.asObservable(),this.client.on(this.client.Event.SDK_READY,()=>{this.sdkReady.next(!0),this.sdkUpdate.next()}),this.client.on(this.client.Event.SDK_UPDATE,()=>this.sdkUpdate.next())}}let Bd=(()=>{class t extends Vd{constructor(t){super(t)}getTreatment(t,e){return this.sdkReady$.pipe(kd,P(()=>this.client.getTreatment(t)),P((t=>e=>"control"===e?t:e)(e)),Cd(t=>t.pipe(Dd(100),jd(3))))}getTreatmentWithConfig(t,e){return this.sdkReady$.pipe(kd,P(()=>this.client.getTreatmentWithConfig(t,e)),Cd(t=>t.pipe(Dd(100),jd(3))))}getTreatmentAsBoolean(t,e=!0){return this.getTreatment(t).pipe(P(Kd(e)))}getMultipleBooleanTreatments(t,e=!0){return this.sdkReady$.pipe(kd,P(()=>this.client.getTreatments(t)),P(t=>Object.entries(t)),P(t=>t.map(([t,n])=>({[t]:Kd(e)(n)})).reduce((t,e)=>Object.assign(Object.assign({},t),e),{})),Cd(t=>t.pipe(Dd(100),jd(3))))}getMultipleTreatments(t){return this.sdkReady$.pipe(kd,P(()=>this.client.getTreatments(t)),Cd(t=>t.pipe(Dd(100),jd(3))))}getMultipleTreatmentsWithConfig(t,e){return this.sdkReady$.pipe(kd,P(()=>this.client.getTreatmentsWithConfig(t,e)),Cd(t=>t.pipe(Dd(100),jd(3))))}createTreatmentUpdateListener(t){return this.sdkUpdate$.pipe(wd(()=>t))}ngOnDestroy(){this.client.destroy()}}return t.\u0275fac=function(e){return new(e||t)(Wt(md))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zd=(()=>{class t extends Vd{constructor(t){super(t)}track(t,e,n,r,i){return this.sdkReady$.pipe(kd,P(()=>this.client.track(t,e,n,r,i)),Cd(t=>t.pipe(Dd(100),jd(3))))}}return t.\u0275fac=function(e){return new(e||t)(Wt(md))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Wd=(()=>{class t{constructor(t){this.manager=t,this.sdkReady=new Gd(!1),this.sdkReady$=this.sdkReady.asObservable(),this.manager.on(this.manager.Event.SDK_READY,()=>this.sdkReady.next(!0))}getSplitInfo(t){return this.sdkReady$.pipe(kd,P(()=>this.manager.split(t)),Cd(t=>t.pipe(Dd(100),jd(3))))}listSplits(){return this.sdkReady$.pipe(kd,P(()=>this.manager.splits()),Cd(t=>t.pipe(Dd(100),jd(3))))}}return t.\u0275fac=function(e){return new(e||t)(Wt(vd))},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qd=(()=>{class t{constructor(t,e,n){var r;this.featureFlags=t,this.splitManager=e,this.splitUserTracking=n,this.title="demo",this.booleanSplit$=this.featureFlags.getTreatmentAsBoolean("test-split").pipe((r=()=>H([!1],ya),function(t){const e=new va(r),n=t.lift(e);return e.caught=n})),this.splitStatus$=this.featureFlags.sdkReady$.pipe(P(t=>t?"ready":"not ready")),this.continuousSplitUpdate$=this.featureFlags.createTreatmentUpdateListener(this.featureFlags.getMultipleTreatments(["updated-split","test-split"])),this.splits$=this.splitManager.listSplits()}ngOnInit(){this.splitUserTracking.track("demo_user","user","view",null,{"user-agent":window.navigator.userAgent}).subscribe(t=>console.log("tracking",t))}}return t.\u0275fac=function(e){return new(e||t)(Ai(Bd),Ai(Wd),Ai(zd))},t.\u0275cmp=(e={type:t,selectors:[["demo-root"]],decls:63,vars:16,consts:[["role","banner",1,"toolbar"],["width","40","alt","Angular Logo","src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg=="],[1,"spacer"],["aria-label","Angular on twitter","target","_blank","rel","noopener","href","https://twitter.com/angular","title","Twitter"],["id","twitter-logo","height","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 400 400"],["width","400","height","400","fill","none"],["d","M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23","fill","#fff"],["role","main",1,"content"],[1,"terminal"],[1,"comment"],[1,"comment","group"],[1,"comment","group","group-end"],["id","clouds","alt","Gray Clouds Background","xmlns","http://www.w3.org/2000/svg","width","2611.084","height","485.677","viewBox","0 0 2611.084 485.677"],["id","Path_39","data-name","Path 39","d","M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z","transform","translate(142.69 -634.312)","fill","#eee"]],template:function(t,e){1&t&&(Oi(0,"div",0),xi(1,"img",1),Oi(2,"span"),Di(3,"Welcome"),Ni(),xi(4,"div",2),Oi(5,"a",3),nn(),Oi(6,"svg",4),xi(7,"rect",5),xi(8,"path",6),Ni(),Ni(),Ni(),Pe.lFrame.currentNamespace=null,Oi(9,"div",7),Oi(10,"h2"),Di(11,"Basics"),Ni(),Oi(12,"h3"),Di(13,"SDK Status"),Ni(),Oi(14,"div",8),Oi(15,"pre",9),Oi(16,"code"),Di(17,"// The Split SDK is "),Ni(),Ni(),Oi(18,"pre",10),Di(19,"// splitStatus$ = this.featureFlags.sdkReady$.pipe("),Ni(),Oi(20,"pre",10),Di(21,"//  map((v) => (v ? 'ready' : 'not ready'))  "),Ni(),Oi(22,"pre",11),Di(23,"// );  "),Ni(),Oi(24,"pre"),Di(25," splitStatus$ = "),Oi(26,"code"),Di(27),Co(28,"async"),Ni(),Ni(),Ni(),Oi(29,"h3"),Di(30,"Boolean Treatments "),Oi(31,"small"),Di(32," these are either on or off "),Ni(),Ni(),Oi(33,"div",8),Oi(34,"pre",9),Oi(35,"code"),Di(36,"// The result for 'test-split'"),Ni(),Ni(),Oi(37,"pre"),Oi(38,"code"),Di(39),Co(40,"async"),Ni(),Ni(),Ni(),Oi(41,"div",8),Oi(42,"pre",9),Oi(43,"code"),Di(44,"// This is contiously updated via split updates. "),Ni(),Di(45," "),Ni(),Oi(46,"pre"),Oi(47,"code"),Di(48),Co(49,"json"),Co(50,"async"),Ni(),Ni(),Ni(),Oi(51,"div",8),Oi(52,"pre",9),Oi(53,"code"),Di(54,"// all splits. "),Ni(),Di(55," "),Ni(),Oi(56,"pre"),Oi(57,"code"),Di(58),Co(59,"json"),Co(60,"async"),Ni(),Ni(),Ni(),nn(),Oi(61,"svg",12),xi(62,"path",13),Ni(),Ni()),2&t&&(or(27),Mi(Ao(28,4,e.splitStatus$)),or(12),Mi(Ao(40,6,e.booleanSplit$)),or(9),Mi(Ao(49,8,Ao(50,10,e.continuousSplitUpdate$))),or(10),Mi(Ao(59,12,Ao(60,14,e.splits$))))},pipes:[Os,Ns],styles:["",'[_nghost-%COMP%] {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,\n      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",\n      "Segoe UI Symbol";\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n    margin: 8px 0;\n  }\n\n  p[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n\n  .toolbar[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover {\n    opacity: 0.8;\n  }\n\n  .content[_ngcontent-%COMP%] {\n    display: flex;\n    margin: 82px auto 32px;\n    padding: 0 16px;\n    max-width: 960px;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%] {\n    height: 24px;\n    width: auto;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  .card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: #888;\n  }\n\n  .card-container[_ngcontent-%COMP%] {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 16px;\n  }\n\n  .card[_ngcontent-%COMP%] {\n    border-radius: 4px;\n    border: 1px solid #eee;\n    background-color: #fafafa;\n    height: 40px;\n    width: 200px;\n    margin: 0 8px 16px;\n    padding: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n    line-height: 24px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 0;\n  }\n\n  .card.card-small[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 168px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n    cursor: pointer;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n    transform: translateY(-3px);\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: rgb(105, 103, 103);\n  }\n\n  .card.highlight-card[_ngcontent-%COMP%] {\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n    border: none;\n    width: auto;\n    min-width: 30%;\n    position: relative;\n  }\n\n  .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n    margin-left: 60px;\n  }\n\n  svg#rocket[_ngcontent-%COMP%] {\n    width: 80px;\n    position: absolute;\n    left: -10px;\n    top: -24px;\n  }\n\n  svg#rocket-smoke[_ngcontent-%COMP%] {\n    height: calc(100vh - 95px);\n    position: absolute;\n    top: 10px;\n    right: 180px;\n    z-index: -10;\n  }\n\n  a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a[_ngcontent-%COMP%]:hover {\n    color: #125699;\n  }\n\n  .terminal[_ngcontent-%COMP%] {\n    position: relative;\n    width: 80%;\n    max-width: 600px;\n    border-radius: 6px;\n    padding-top: 45px;\n    margin-top: 8px;\n    overflow: hidden;\n    background-color: rgb(15, 15, 16);\n  }\n\n  .terminal[_ngcontent-%COMP%]::before {\n    content: "\\2022 \\2022 \\2022";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 4px;\n    background: rgb(58, 58, 58);\n    color: #c2c3c4;\n    width: 100%;\n    font-size: 2rem;\n    line-height: 0;\n    padding: 14px 0;\n    text-indent: 4px;\n  }\n\n  .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n    font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace;\n    color: white;\n    padding: 0 1rem 1rem;\n    margin: 0;\n  }\n\n  .terminal[_ngcontent-%COMP%]   pre.comment[_ngcontent-%COMP%] {\n    color: grey;\n    font-style: italic;\n  }\n\n  .terminal[_ngcontent-%COMP%]   pre.comment.group[_ngcontent-%COMP%] {\n    padding-bottom: 0;\n  }\n\n  .terminal[_ngcontent-%COMP%]   pre.comment.group.group-end[_ngcontent-%COMP%] {\n    padding-bottom: 1rem;\n  }\n\n  .circle-link[_ngcontent-%COMP%] {\n    height: 40px;\n    width: 40px;\n    border-radius: 40px;\n    margin: 8px;\n    background-color: white;\n    border: 1px solid #eeeeee;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: 1s ease-out;\n  }\n\n  .circle-link[_ngcontent-%COMP%]:hover {\n    transform: translateY(-0.25rem);\n    box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n  }\n\n  footer[_ngcontent-%COMP%] {\n    margin-top: 8px;\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n  }\n\n  footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%] {\n    color: #24292e;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    padding: 3px 10px;\n    border: 1px solid rgba(27, 31, 35, 0.2);\n    border-radius: 3px;\n    background-image: linear-gradient(-180deg, #fafbfc, #eff3f6 90%);\n    margin-left: 4px;\n    font-weight: 600;\n    font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial,\n      sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]:hover {\n    background-image: linear-gradient(-180deg, #f0f3f6, #e6ebf1 90%);\n    border-color: rgba(27, 31, 35, 0.35);\n    background-position: -0.5em;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 16px;\n    margin-right: 4px;\n  }\n\n  svg#clouds[_ngcontent-%COMP%] {\n    position: fixed;\n    bottom: -160px;\n    left: -230px;\n    z-index: -10;\n    width: 1920px;\n  }\n\n  \n  @media screen and (max-width: 767px) {\n    .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n      width: 100%;\n    }\n\n    .card[_ngcontent-%COMP%]:not(.highlight-card) {\n      height: 16px;\n      margin: 8px 0;\n    }\n\n    .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n      margin-left: 72px;\n    }\n\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      right: 120px;\n      transform: rotate(-5deg);\n    }\n  }\n\n  @media screen and (max-width: 575px) {\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      display: none;\n      visibility: hidden;\n    }\n  }']},X(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Jt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ee,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Xt.Emulated,id:"c",styles:e.styles||ee,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,o=e.pipes;return n.id+=ne++,n.inputs=ae(e.inputs,t),n.outputs=ae(e.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(re):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(ie):null,n})),t;var e})(),$d=(()=>{class t{}return t.\u0275mod=se({type:t,bootstrap:[qd]}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[],imports:[[oa,bd.forRoot({core:{authorizationKey:"g2gmlioddemtb4351hjcur7enj2d7fb961hl",key:"CUSTOMER_ID",labelsEnabled:!0,trafficType:"users"}})]]}),t})();(function(){if(Un)throw new Error("Cannot enable prod mode after platform setup.");Hn=!1})(),ra().bootstrapModule($d).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);